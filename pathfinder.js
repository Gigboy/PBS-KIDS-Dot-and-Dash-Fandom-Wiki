(()=>{var e,t,n,o,i={4485:(e,t,n)=>{"use strict";function o(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function i(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,{$r:()=>g,Do:()=>p,Vp:()=>f,xs:()=>s}),r=function(e){var t=function(e){var t,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function d(e,t,n,o){var i=t&&t.prototype instanceof m?t:m,r=Object.create(i.prototype),a=new A(o||[]);return r._invoke=function(e,t,n){var o=c;return function(i,r){if(o===f)throw new Error("Generator is already running");if(o===g){if("throw"===i)throw r;return M()}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var s=T(a,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===c)throw o=g,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=f;var u=l(e,t,n);if("normal"===u.type){if(o=n.done?g:p,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=g,n.method="throw",n.arg=u.arg)}}}(e,n,a),r}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=d;var c="suspendedStart",p="suspendedYield",f="executing",g="completed",v={};function m(){}function y(){}function h(){}var w={};u(w,r,(function(){return this}));var b=Object.getPrototypeOf,C=b&&b(b(_([])));C&&C!==n&&o.call(C,r)&&(w=C);var O=h.prototype=m.prototype=Object.create(w);function k(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(i,r,a,s){var u=l(e[i],e,r);if("throw"!==u.type){var d=u.arg,c=d.value;return c&&"object"==typeof c&&o.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,a,s)}),(function(e){n("throw",e,a,s)})):t.resolve(c).then((function(e){d.value=e,a(d)}),(function(e){return n("throw",e,a,s)}))}s(u.arg)}var i;this._invoke=function(e,o){function r(){return new t((function(t,i){n(e,o,t,i)}))}return i=i?i.then(r,r):r()}}function T(e,n){var o=e.iterator[n.method];if(o===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,T(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(o,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var r=i.arg;return r?r.done?(n[e.resultName]=r.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):r:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function A(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function _(e){if(e){var n=e[r];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,a=function n(){for(;++i<e.length;)if(o.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:M}}function M(){return{value:t,done:!0}}return y.prototype=h,u(O,"constructor",h),u(h,"constructor",y),y.displayName=u(h,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,u(e,s,"GeneratorFunction")),e.prototype=Object.create(O),e},e.awrap=function(e){return{__await:e}},k(E.prototype),u(E.prototype,a,(function(){return this})),e.AsyncIterator=E,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var a=new E(d(t,n,o,i),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},k(O),u(O,s,"Generator"),u(O,r,(function(){return this})),u(O,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var o=t.pop();if(o in e)return n.value=o,n.done=!1,n}return n.done=!0,n}},e.values=_,A.prototype={constructor:A,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(o,i){return s.type="throw",s.arg=e,n.next=o,i&&(n.method="next",n.arg=t),!!i}for(var r=this.tryEntries.length-1;r>=0;--r){var a=this.tryEntries[r],s=a.completion;if("root"===a.tryLoc)return i("end");if(a.tryLoc<=this.prev){var u=o.call(a,"catchLoc"),d=o.call(a,"finallyLoc");if(u&&d){if(this.prev<a.catchLoc)return i(a.catchLoc,!0);if(this.prev<a.finallyLoc)return i(a.finallyLoc)}else if(u){if(this.prev<a.catchLoc)return i(a.catchLoc,!0)}else{if(!d)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return i(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&o.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,v):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),I(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;I(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,o){return this.delegate={iterator:_(e),resultName:n,nextLoc:o},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},r({exports:{}});var r,a,s,u=function(){function e(){this.id=e.UNKNOWN_USER,this.language=void 0}var t=e.prototype;return t.reset=function(){this.id=e.UNKNOWN_USER,this.language=void 0},e.getDefault=function(){return new e},e.getAnon=function(){var t=new e;return t.id=e.ANON_USER,t},t.apply=function(t){return t instanceof e&&(this.id=t.id,null!=t&&t.language&&(this.language=t.language)),this},e.fromContext=function(t){return e.getDefault().apply(t)},e.fromTransport=function(t){var n=e.getDefault();if("object"==typeof t&&null!=t&&t.id){var o=t.id;"number"==typeof o?n.id=o:"string"==typeof o&&(n.id=parseInt(o,10)),n.language=null==t?void 0:t.lang}return n},e.fromWindow=function(){var t=window;return null!=t&&t._ulc&&"object"==typeof t._ulc?e.fromTransport(t._ulc):e.getDefault()},t.toTransport=function(){return{id:this.id,lang:this.language}},t.toString=function(){return JSON.stringify(this.toTransport())},t.updateWindow=function(){window._ulc=this.toTransport()},t.toScript=function(){return"window._ulc = "+this.toString()+";"},i(e,[{key:"lang",get:function(){return null==this?void 0:this.language}},{key:"isUnknown",get:function(){return this.id===e.UNKNOWN_USER}},{key:"isAnon",get:function(){return this.isUnknown||this.id===e.ANON_USER}},{key:"anon",get:function(){return this.isAnon}}]),e}();u.UNKNOWN_USER=-1,u.ANON_USER=0,function(e){e.UNKNOWN="unknown",e.MEDIAWIKI="mw",e.DISCUSSIONS="dis",e.TRIVIA="trivia",e.F2="f2",e.FANHUB="fanhub",e.VIDEO="video"}(s||(s={}));var d=((a={})[s.MEDIAWIKI]=!0,a[s.DISCUSSIONS]=!0,a[s.TRIVIA]=!0,a[s.F2]=!0,a[s.FANHUB]=!0,a[s.VIDEO]=!0,a),l=function(){function e(){this.$time=0,this.product=s.UNKNOWN,this.productId=void 0,this.$time=Date.now()}var t=e.prototype;return t.reset=function(){this.product=s.UNKNOWN,this.productId=void 0,this.productVariant=void 0,this.productCategory=void 0,this.page=void 0,this.pageId=void 0,this.pageLanguage=void 0,this.adTags=void 0,this.$time=Date.now()},e.getDefault=function(){return new e},t.zeroTime=function(){return this.$time=0,this},t.apply=function(t){return t instanceof e&&(t.isUnknown||(this.product=t.product),null!=t&&t.productId&&"string"==typeof t.productId&&t.productId.length>0&&(this.productId=t.productId),null!=t&&t.productVariant&&(this.productVariant=t.productVariant),null!=t&&t.productCategory&&(this.productCategory=t.productCategory),null!=t&&t.page&&(this.page=t.page),null!=t&&t.pageId&&(this.pageId=t.pageId),null!=t&&t.pageLanguage&&(this.pageLanguage=t.pageLanguage),null!=t&&t.adTags&&(this.adTags=t.adTags),null!=t&&t.$time&&"number"==typeof t.$time&&t.$time>0&&(this.$time=t.$time)),this},e.fromContext=function(t){return e.getDefault().apply(t)},e.fromTransport=function(t){var n=e.getDefault();return t.p&&t.pId&&"number"==typeof t.time&&(n.product=t.p,n.productId=t.pId,n.productVariant=null==t?void 0:t.pVar,n.productCategory=null==t?void 0:t.pCat,n.page=null==t?void 0:t.pg,n.pageId=null==t?void 0:t.pgId,n.pageLanguage=null==t?void 0:t.pgLang,n.adTags=null==t?void 0:t.adTags,n.$time=t.time>0?t.time:Date.now()),n},e.fromWindow=function(){var t=window;return null!=t&&t._plc&&"object"==typeof t._plc?e.fromTransport(t._plc):e.getDefault()},t.toTransport=function(e){void 0===e&&(e=!1);var t={p:this.product,pId:this.productId,pVar:null==this?void 0:this.productVariant,pCat:null==this?void 0:this.productCategory,pg:null==this?void 0:this.page,pgId:null==this?void 0:this.pageId,pgLang:null==this?void 0:this.pageLanguage,adTags:null==this?void 0:this.adTags,time:this.time};return e&&(t.time=0),t},t.toString=function(e){return void 0===e&&(e=!1),JSON.stringify(this.toTransport(e))},t.updateWindow=function(e){void 0===e&&(e=!1);var t=window;t._plc=this.toTransport(e),e&&(t._plc.time=Date.now())},t.toScript=function(e){void 0===e&&(e=!1);var t="window._plc = "+this.toString(e)+";";return e&&(t+="window._plc.time = Date.now();"),t},i(e,[{key:"time",get:function(){return this.$time}},{key:"isUnknown",get:function(){return"string"!=typeof this.product||!d[this.product]}},{key:"isValid",get:function(){return!this.isUnknown&&"string"==typeof this.productId&&this.$time>0}}]),e}();function c(e){var t=document.cookie.match(RegExp("(?:^|;\\s*)"+e.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")+"=([^;]*)"));return t?t[1]:void 0}function p(){return c("wikia_beacon_id")||""}function f(){var e;return null!=(e=function(e){try{var t,n=decodeURIComponent(null!=(t=c("Geo"))?t:"{}");return n?JSON.parse(n):void 0}catch(e){return}}())?e:{}}function g(){return l.fromWindow()}},9996:e=>{"use strict";var t=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===n}(e)}(e)},n="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function o(e,t){return!1!==t.clone&&t.isMergeableObject(e)?s((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function i(e,t,n){return e.concat(t).map((function(e){return o(e,n)}))}function r(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function a(e,t){try{return t in e}catch(e){return!1}}function s(e,n,u){(u=u||{}).arrayMerge=u.arrayMerge||i,u.isMergeableObject=u.isMergeableObject||t,u.cloneUnlessOtherwiseSpecified=o;var d=Array.isArray(n);return d===Array.isArray(e)?d?u.arrayMerge(e,n,u):function(e,t,n){var i={};return n.isMergeableObject(e)&&r(e).forEach((function(t){i[t]=o(e[t],n)})),r(t).forEach((function(r){(function(e,t){return a(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,r)||(a(e,r)&&n.isMergeableObject(t[r])?i[r]=function(e,t){if(!t.customMerge)return s;var n=t.customMerge(e);return"function"==typeof n?n:s}(r,n)(e[r],t[r],n):i[r]=o(t[r],n))})),i}(e,n,u):o(n,u)}s.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return s(e,n,t)}),{})};var u=s;e.exports=u},2705:(e,t,n)=>{var o=n(5639).Symbol;e.exports=o},2488:e=>{e.exports=function(e,t){for(var n=-1,o=t.length,i=e.length;++n<o;)e[i+n]=t[n];return e}},1078:(e,t,n)=>{var o=n(2488),i=n(7285);e.exports=function e(t,n,r,a,s){var u=-1,d=t.length;for(r||(r=i),s||(s=[]);++u<d;){var l=t[u];n>0&&r(l)?n>1?e(l,n-1,r,a,s):o(s,l):a||(s[s.length]=l)}return s}},1957:(e,t,n)=>{var o="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g;e.exports=o},7285:(e,t,n)=>{var o=n(2705),i=n(5694),r=n(1469),a=o?o.isConcatSpreadable:void 0;e.exports=function(e){return r(e)||i(e)||!!(a&&e&&e[a])}},5639:(e,t,n)=>{var o=n(1957),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();e.exports=r},5564:(e,t,n)=>{var o=n(1078);e.exports=function(e){return null!=e&&e.length?o(e,1):[]}},5694:e=>{e.exports=function(){return!1}},1469:e=>{var t=Array.isArray;e.exports=t},7334:(e,t,n)=>{var o=n(9833);e.exports=function(e){return o(e).toLowerCase()}},9833:e=>{e.exports=function(e){return e}},7841:()=>{Promise.any=e=>new Promise(((t,n)=>{var o,i,r,a,s;let u=!1,d=[],l=0,c=[];function p(e){u||(u=!0,t(e))}function f(e){c.push(e),c.length>=l&&n(c)}for(let t of e)l++,d.push(t);for(let e of d)void 0!==(null===(o=e)||void 0===o?void 0:o.then)||void 0!==(null===(i=e)||void 0===i?void 0:i.catch)?(null===(a=null===(r=e)||void 0===r?void 0:r.then((e=>p(e))))||void 0===a||a.catch((e=>{})),null===(s=e)||void 0===s||s.catch((e=>f(e)))):p(e)}))},9094:(e,t,n)=>{"use strict";function o(){return!!window.location.search.includes("ss_debug")||i()}n.d(t,{L1:()=>o,RG:()=>i});const i=()=>/^localhost/.test(location.hostname)||"127.0.0.1"===location.hostname},3338:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>f,_E:()=>g});const o=Object.values({SilverSurfer:"silversurfer",PathfinderExperiments:"pf-experiments",ClientSide:"browser-client-",Custom:"custom-"});var i,r;!function(e){e.CATEGORY="category",e.EVENT="event",e.LABEL="label",e.ACTION="action",e.VALUE="value",e.NON_INTERACTIVE="nonInteractive",e.IS_DEBUG="isDebug"}(i||(i={})),function(e){e.EXPERIMENT_VARIANT="experimentVariant",e.SS_VERSION="silverSurferVersion",e.AD_PVUID="pvUID",e.BEACON_ID="beaconId"}(r||(r={}));const a=[...Object.values(r),...Object.values(i)];function s(){var e,t,n;return null!==(n=null===(t=null===(e=null===window||void 0===window?void 0:window.google_tag_manager)||void 0===e?void 0:e.dataLayer)||void 0===t?void 0:t.gtmDom)&&void 0!==n&&n}function u(){s()&&(window.__datalayer_pre=window.__datalayer_pre||[],window.__datalayer_pre.length>0&&(window.__datalayer_pre_interval_id&&window.clearInterval(window.__datalayer_pre_interval_id),window.__datalayer_pre.forEach((e=>window.dataLayer.push(e))),window.__datalayer_pre=[]),window.__datalayer_pre_interval_id&&(window.clearInterval(window.__datalayer_pre_interval_id),window.__datalayer_pre_interval_id=null))}function d(e){if(e.isDebug=!!e.isDebug,e.event){if(window.dataLayer=window.dataLayer||[],e.category||(e.category=e.event),e.label||(e.label=e.category),e.isDebug){t=e.event,o.some((e=>t.includes(e)))||console.warn("[Tracking] GTM event not caught",e.event);const n=a;Object.keys(e).every((t=>!(!n.includes(t)&&!e.skipValidation&&(console.warn("[Tracking] Element not enabled in DW",t),1))))}return function(e){return window.__datalayer_pre=window.__datalayer_pre||[],s()?(u(),window.dataLayer.push(e)):window.__datalayer_pre.push(e)}(e)}var t;return console.error("[Tracking] missing 'event' field",e),null}window.__datalayer_pre_interval_id||s()||(window.__datalayer_pre_interval_id=window.setInterval(u,500));var l=n(9094);function c(e,t){const n=n=>{const o=Object.assign(Object.assign({nonInteractive:!0},e),n);return t(o),o};return n.click=t=>n(Object.assign(Object.assign(Object.assign({},e),t),{action:"click",nonInteractive:!1})),n.impression=t=>n(Object.assign(Object.assign(Object.assign({},e),t),{action:"impression",nonInteractive:!0})),n.hover=t=>n(Object.assign(Object.assign(Object.assign({},e),t),{action:"hover",nonInteractive:!0})),n.loaded=t=>n(Object.assign(Object.assign(Object.assign({},e),t),{action:"loaded",nonInteractive:!0})),n.extend=n=>c(Object.assign(Object.assign({},e),n),t),n}function p(e,t){const n=Object.assign({},e);if(!n.event&&!n.category)throw console.error("[Tracking] Missing event or category field",n),new Error("Missing event or category field");return n.category||(n.category=n.event),n.event||(n.event=n.category),c(n,t)}function f(e){return p(e,d)}function g(e){return`${(0,l.L1)()?"dev-":""}${e}`}p({category:"base-tracker"},d)},3504:(e,t,n)=>{"use strict";n.d(t,{x:()=>f,v:()=>p});var o=n(655),i=n(5823),r=n(681);function a(e,t=5){const n=6e4*t;return{get:()=>{try{const t=localStorage.getItem(e);return t?(e=>{const t=JSON.parse(e);return!(n=null==t?void 0:t.ttl)||n<Date.now()?null:t.data;var n})(t):null}catch(t){return console.warn(`Can't retrieve  ${e} from localStorage`),null}},set:t=>{try{const o=(e=>({data:e,ttl:Date.now()+n}))(t);localStorage.setItem(e,JSON.stringify(o))}catch(n){console.warn(`Can't write ${e} ${t} to localStorage`)}}}}var s=n(214);let u=null;function d(){var e,t,n,o;if(!u){const i=(0,s.b)(),r=null===(e=null===window||void 0===window?void 0:window.mw)||void 0===e?void 0:e.config.get("wikiCategories"),a=new URLSearchParams([["wId",i.pageContext.pId],...i.dateIsForced?[["dT",i.dateTime]]:[],...i.pageContext.pVar?[["s",i.pageContext.pVar]]:[],...(null===(o=null===(n=null===(t=i.pageContext)||void 0===t?void 0:t.adTags)||void 0===n?void 0:n.gnre)||void 0===o?void 0:o.length)?i.pageContext.adTags.gnre.map((e=>["g",e])):[],...(null==r?void 0:r.length)?r.map((e=>["c",e])):[]]).toString();u=new l("campaign-provider/widgets"+(a?`?${a}`:""))}return u}class l{constructor(e){this.path=e,this.storage=a(this.path)}getWidgets(){return this.widgetsPromise||(this.widgetsPromise=this.getFromCacheOrFetchSponsoredWidgets()),this.widgetsPromise}getFromCacheOrFetchSponsoredWidgets(){return(0,o.mG)(this,void 0,void 0,(function*(){let e=this.storage.get();if(e||(e=yield c("SponsoredWidgets",this.path),"string"==typeof e?this.storage.set(e):this.storage.set("null")),e)try{return yield JSON.parse(e)}catch(e){return null}return null}))}}function c(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){let n;try{n=yield(0,r.ck)(t)}catch(t){return i.Z.error(`${e}: fetching error`,t),null}return n.ok&&204!==n.status?n.text():(i.Z.debug(`${e}: no consumable data`,n),null)}))}function p(e){return(0,o.mG)(this,void 0,void 0,(function*(){const t=function(e){const t=new RegExp("[?&]sw_preview="+e+"-([^&]+)").exec(window.location.search);return t&&t[1]}(e);if(!t)return null;const n=yield c(e,`campaign-provider/widgets/${t}`);try{return n?yield JSON.parse(n):null}catch(e){return null}}))}function f(e){var t;return(0,o.mG)(this,void 0,void 0,(function*(){const n=d();return null===(t=yield n.getWidgets())||void 0===t?void 0:t.filter((t=>t.widgetType===e))}))}},4463:(e,t,n)=>{"use strict";var o;n.d(t,{b:()=>o}),function(e){e.DesktopSameVertical="DesktopSameVertical",e.MobileSameVertical="MobileSameVertical"}(o||(o={}))},2187:(e,t,n)=>{"use strict";n.d(t,{h:()=>l,o:()=>d});var o=n(655),i=n(3504),r=n(768),a=n(9715),s=n(3492),u=n(9302);function d(e){var t;return(0,o.mG)(this,void 0,void 0,(function*(){const n="countdown-clock";if(e)return function(){const e=new Date;return e.setDate(e.getDate()+1),[{id:-1,widgetType:"countdown-clock",active:!0,name:"",description:"",startDateTime:null,endDateTime:e.toISOString(),countdownEndDateTime:e.toISOString(),ucpTargetings:[{id:-1,wikiId:null,articleIds:[],skins:[],geos:[],genres:[],categories:[]}],states:[{id:-1,name:"",startDateTime:null,clickThroughUrl:"https://fandom.com",ctaText:"",images:[{id:-1,size:{width:300,height:120},url:"https://static.wikia.nocookie.net/fandom-ae-assets/programmatic/widgets/countdown-clock-preview/countdown-clock-preview-PRE-300x120-v1.jpg"},{id:-2,size:{width:300,height:450},url:"https://static.wikia.nocookie.net/fandom-ae-assets/programmatic/widgets/countdown-clock-preview/countdown-clock-preview-PRE-300x450-v1.jpg"}]}]}]}();const o=null!==(t=yield(0,i.v)(n))&&void 0!==t?t:yield(0,i.x)(n);return o&&o.length?o:null}))}function l(e,t,n,i){var d,l;return(0,o.mG)(this,void 0,void 0,(function*(){const o="countdown-clock",c=function(e){switch(e){case u.i.DESKTOP:return{width:300,height:450};case u.i.MOBILE:return{width:300,height:120}}}(n),p=t?e[0]:(0,r.L)(e,i,o);if(!p)return null;const f=(0,a.w)(null!==(d=p.states)&&void 0!==d?d:[],i,o,null==p?void 0:p.id);if(!f)return null;const g=(0,s.I)(null!==(l=f.images)&&void 0!==l?l:[],c,o,p.id,f.id);return g?Object.assign(Object.assign({fontUrls:[]},f),{countdownClockId:p.id,countdownEndDate:new Date(p.countdownEndDateTime),image:g}):null}))}},8427:(e,t,n)=>{"use strict";n.d(t,{Q:()=>d,A:()=>u});var o=n(655),i=n(3504),r=n(768),a=n(9715),s=n(3492);function u(e){var t;return(0,o.mG)(this,void 0,void 0,(function*(){const n="sponsored-logo";if(e)return[{id:-1,widgetType:"sponsored-logo",active:!0,name:"",description:"",startDateTime:null,endDateTime:null,ucpTargetings:[{id:-1,wikiId:null,articleIds:[],skins:[],geos:[],genres:[],categories:[]}],states:[{id:-1,name:"",startDateTime:null,clickThroughUrl:"https://fandom.com",ctaText:"Premiers November 11, 2022! [**Click here!**](https://marvel.fandom.com/wiki/Black_Panther:_Wakanda_Forever)",sponsorText:"wakanda forever",images:[{id:-1,size:{width:36,height:36},url:"https://static.wikia.nocookie.net/fandom-ae-assets/programmatic/widgets/sponsored-logo-preview/sponsored-logo-preview-36x36-v1.png"}]}]}];const o=null!==(t=yield(0,i.v)(n))&&void 0!==t?t:yield(0,i.x)(n);return o&&o.length?o:null}))}function d(e,t,n){var i,u;return(0,o.mG)(this,void 0,void 0,(function*(){const o="sponsored-logo",d=t?e[0]:(0,r.L)(null!=e?e:[],n,o);if(!d)return null;const l=(0,a.w)(null!==(i=d.states)&&void 0!==i?i:[],n,o,null==d?void 0:d.id);if(!l)return null;const c=(0,s.I)(null!==(u=l.images)&&void 0!==u?u:[],{width:36,height:36},o,d.id,l.id);return c?Object.assign(Object.assign({},l),{sponsoredLogoId:d.id,imageUrl:c.url}):null}))}},7068:(e,t,n)=>{"use strict";n.d(t,{E:()=>o});const o=(e,t)=>{if(!e)return void(window.getCurrentQuizQuestion=()=>{});const n=e.answers.find((e=>e.isCorrect));n&&(window.getCurrentQuizQuestion=()=>({questionId:e.id,questionPosition:t,quizAnswerPosition:e.answers.indexOf(n),quizAnswerId:n.id,isGenai:e.isGenai}))}},5447:(e,t,n)=>{"use strict";n.d(t,{pT:()=>u,QY:()=>s,Vk:()=>r,qm:()=>a});var o=n(5426),i=n(1108);const r=e=>{setTimeout((()=>{s(document.querySelectorAll(e).length>0)}),1e3)},a=()=>{s(void 0)},s=e=>{console.log("PHQ="+e),window.pageHaveQuiz=e},u=()=>{void 0===window.pageHaveQuiz&&s(!!(0,o.fM)().some((e=>[i.PO.WikiQuizConsumptionModule,i.PO.DiscussionQuizConsumptionModule,i.PO.TriviaQuizConsumptionModule,i.PO.FanhubQuizConsumptionModule].includes(e.config.type)))&&void 0)}},6304:(e,t,n)=>{"use strict";n.d(t,{i:()=>o});const o=e=>{window.getQuizMetadata=()=>e?{quizId:e.id,quizTitle:e.title,isGenai:e.isGenai}:void 0}},7391:(e,t,n)=>{"use strict";n.d(t,{rz:()=>le,lV:()=>de,K4:()=>ce});var o=n(655),i=n(9996),r=n.n(i),a=n(437),s=n(5823),u=n(1108),d=n(8114),l=n(8615);const c=d.Z.all(l.S9,l.pX,d.Z.any(l.Th,l.ny)),p=d.Z.all(l.yd,l.pX),f=[{name:"halo-effect-vertical-desktop",type:u.PO.HaloEffectVertical,insertConfig:{type:u.pz.Custom},targeting:d.Z.all(l.v9,d.Z.any(c,p,l.pq,l.v8,l.$5))}];var g=n(7756);const v=[{name:"in-wiki-email-in-context",type:u.PO.InWikiEmail,insertConfig:{type:u.pz.UcpInContext},config:{},targeting:d.Z.all(l.JI,l.GR,l.ok,d.Z.not({type:u.Bv.SilverSurferAction,actionType:g.U.SUBMIT,property:"name",value:"exit-signup"}))}],m=[{disabled:!1,name:"marketing-notifications",type:u.PO.MarketingNotifications,insertConfig:{type:u.pz.Custom},config:{impressionName:u.PO.MarketingNotifications},targeting:d.Z.all(l.Th,l.e1)}],y={type:u.Bv.Url,pathname:"Special:AdminDashboard"},h=[{disabled:!1,name:"notification-cms",type:u.PO.NotificationCMS,insertConfig:{type:u.pz.Custom},config:{},targeting:d.Z.all(l.v9,l.s3,l.Lj,y)}];var w=n(4463);const b=d.Z.all(l.yp,l.Th,l.pX,l.pP),C=d.Z.all(l.ke,l.Th,l.pX,l.pP),O=[{name:"desktop-related-wiki-recommendations",type:u.PO.OnWikiRecommendations,insertConfig:{type:u.pz.Custom},config:{variant:w.b.DesktopSameVertical},targeting:b},{name:"mobile-related-wiki-recommendations",type:u.PO.OnWikiRecommendations,insertConfig:{type:u.pz.Custom},config:{variant:w.b.MobileSameVertical},targeting:C}];var k,E=n(675);!function(e){e.WithCatalog="WithCatalog"}(k||(k={}));const T={name:"quiz-creation-with-catalog",type:u.PO.QuizCreation,insertConfig:{type:u.pz.Element,selectors:[{selector:"main",method:u.Eo.Prepend}]},config:{type:k.WithCatalog},targeting:d.Z.all(l.Lj,{type:u.Bv.CurrentContext,property:"product",value:"dis"},d.Z.any({type:u.Bv.CurrentContext,property:"productId",value:"2750727"},{type:u.Bv.CurrentContext,property:"productId",value:"1081891"}),{type:u.Bv.CurrentContext,property:"page",value:"feed"})},S=[T,Object.assign(Object.assign({},T),{disabled:!0,name:"quiz-creation-with-catalog-e2e",config:{type:k.WithCatalog,fakeApis:!0}})];var I=n(6370),A=n(9302);const _={type:u.pz.Element,selectors:[{selector:".global-navigation__links",method:u.Eo.Prepend}]},M=[{name:"sponsored-widgets-sponsored-logo-consumption-module",type:u.PO.SponsoredWidgetsSponsoredLogoConsumptionModule,insertConfig:_,config:{sponsoredLogos:[]},targeting:d.Z.any(d.Z.all(l.nR,l.v9,l.S9,l.ok),d.Z.all(l.nR,l.v9,l.pq))}];var x=n(8914);const Z=[{name:"debug-menu",type:u.PO.DebugMenu,insertConfig:{type:u.pz.Instant},targeting:d.Z.any(l.yN,l.zo)}];var z=n(9202);const D=[{name:"article-contribution-stats",optimizelyId:24885500190,type:u.PO.ArticleContributionStats,insertConfig:{type:u.pz.Custom},targeting:d.Z.all(l.Th,l.v9)}],R=d.Z.all(d.Z.any(l.S9,l.q1,l.yd),l.nR,l.y$),P=d.Z.all(R,l.v9),N=d.Z.all(R,l.i1),$=[{name:"global-nav-theme-colors-holdback-desktop",optimizelyId:26166530528,type:u.PO.GlobalNavThemeColorsHoldBack,insertConfig:{type:u.pz.Custom},config:{},targeting:P},{name:"global-nav-theme-colors-holdback-mobile",optimizelyId:25229660671,type:u.PO.GlobalNavThemeColorsHoldBack,insertConfig:{type:u.pz.Custom},config:{},targeting:N}],L=[{name:"edit-button-labels-for-anon-desktop",optimizelyId:24774290034,type:u.PO.EditButtonLabelsForAnonDesktop,insertConfig:{type:u.pz.Custom},targeting:d.Z.all(l.Th,l.v9,l.nR,l.Th)}];var B=n(2067);const j=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(113).then(n.bind(n,7857))).getHaloEffectVerticalModuleMethods(e)})),U=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(21).then(n.bind(n,361))).getMarketingNotificationsModuleMethods(e)})),G=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(361).then(n.bind(n,6665))).getNotificationCMSModuleMethods(e)})),F=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(73).then(n.bind(n,5670))).getOnWikiRecommendationsModuleMethods(e)})),W=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(447).then(n.bind(n,9679))).getDiscussionQuizConsumptionModuleMethods(e)})),V=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(993).then(n.bind(n,9758))).getFanhubQuizConsumptionModuleMethods(e)})),Q=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(853).then(n.bind(n,2403))).getDesktopAddPageToCollectionModuleMethods(e)})),q=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(737).then(n.bind(n,5597))).getTriviaQuizConsumptionModuleMethods(e)})),H=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(349).then(n.bind(n,959))).getWikiQuizConsumptionModuleMethods(e)})),K=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(348).then(n.bind(n,858))).getQuizCreationModuleMethods(e)})),J=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(986).then(n.bind(n,7546))).getQuizMetaEditorModuleMethods(e)}));var Y=n(2187);const X=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){var t,o;const i=yield(0,Y.o)(null!==(o=null===(t=null==e?void 0:e.internalState)||void 0===t?void 0:t.forced)&&void 0!==o&&o);if(i&&i.length)return(yield n.e(595).then(n.bind(n,8390))).getSponsoredWidgetsCountdownClockConsumptionModuleMethods(Object.assign(Object.assign({},e),{config:Object.assign(Object.assign({},e.config),{countdownClocks:i})}))}));var ee=n(8427);const te=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){var t,o;const i=yield(0,ee.A)(null!==(o=null===(t=null==e?void 0:e.internalState)||void 0===t?void 0:t.forced)&&void 0!==o&&o);if(i&&i.length)return(yield n.e(606).then(n.bind(n,2973))).getSponsoredWidgetsSponsoredLogoConsumptionModuleMethods(Object.assign(Object.assign({},e),{config:Object.assign(Object.assign({},e.config),{sponsoredLogos:i})}))})),ne=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return n.e(495).then(n.bind(n,1582)).then((t=>t.getInWikiEmailModuleMethods(e)))})),oe=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(307).then(n.bind(n,1408))).getDebugMenuModuleMethods(e)})),ie=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(166).then(n.bind(n,1594))).getAddToMyFandomsModuleMethods(e)})),re=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(161).then(n.bind(n,1500))).getArticleContributionStatsModuleMethods(e)})),ae=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(656).then(n.bind(n,8902))).getGlobalNavThemeColorsModuleMethods(e)})),se=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(874).then(n.bind(n,9187))).getEditButtonLabelsForAnonDesktopModuleMethods(e)})),ue=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return(yield n.e(341).then(n.bind(n,2660))).getReferencedLinksModuleMethods(e)}));function de(){return[].concat(Z,v,f,E.Z,S,I.Z,h,m,O,A.Z,M,x.Z,z.Z,D,$,L,B.Z).filter(Boolean)}function le(){let e=de();return e=e.map((e=>r()({internalState:{}},e))),(0,a.n3)()&&(s.Z.debug("RulesEngine: All the modules exposed to window.pathfinderAllModules"),window.pathfinderAllModules=JSON.stringify(e)),e}function ce(e){const t={[u.PO.DebugMenu]:oe,[u.PO.InWikiEmail]:ne,[u.PO.MarketingNotifications]:U,[u.PO.NotificationCMS]:G,[u.PO.HaloEffectVertical]:j,[u.PO.OnWikiRecommendations]:F,[u.PO.SponsoredWidgetsCountdownClockConsumptionModule]:X,[u.PO.SponsoredWidgetsSponsoredLogoConsumptionModule]:te,[u.PO.QuizCreation]:K,[u.PO.WikiQuizConsumptionModule]:H,[u.PO.QuizMetaEditorModule]:J,[u.PO.DiscussionQuizConsumptionModule]:W,[u.PO.TriviaQuizConsumptionModule]:q,[u.PO.FanhubQuizConsumptionModule]:V,[u.PO.DesktopAddPageToCollection]:Q,[u.PO.AddToMyFandoms]:ie,[u.PO.ArticleContributionStats]:re,[u.PO.GlobalNavThemeColorsHoldBack]:ae,[u.PO.EditButtonLabelsForAnonDesktop]:se,[u.PO.ReferencedLinks]:ue};return"function"==typeof t[e]?t[e]:()=>(0,o.mG)(this,void 0,void 0,(function*(){return!1}))}},5601:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(5823),i=n(2718),r=n(7904);function a(){const e=(0,r.Z)("ss_pathfinder_forced"),t=(0,i.Q2)();if(e)return o.Z.info("RulesEngine: Forcing module",e),t&&o.Z.info(`RulesEngine: Ignoring permanently forced module (from "${i.zn}" cookie)`,t),e;const n=(0,r.Z)("ss_pathfinder_permaforced");return n?(o.Z.info("RulesEngine: Permanently forcing module (expires in 30 days)",n),(0,i.XA)(n),n):t?(o.Z.info(`RulesEngine: Permanently forcing module (from "${i.zn}" cookie)`,t),t):void 0}},9202:(e,t,n)=>{"use strict";n.d(t,{Z:()=>d,l:()=>s});var o=n(1108),i=n(8114),r=n(8615);const a=i.Z.all(r.nR,r.pX,r.S9),s={VARIANT1:"add-to-my-fandoms-variant-1",VARIANT2:"add-to-my-fandoms-variant-2",VARIANT3:"add-to-my-fandoms-variant-3",VARIANT4:"add-to-my-fandoms-variant-4"},u=!1,d=[{disabled:u,optimizelyId:25704630007,name:s.VARIANT1+"-mobile",type:o.PO.AddToMyFandoms,insertConfig:{type:o.pz.Custom},targeting:a},{disabled:u,optimizelyId:25704630007,name:s.VARIANT2+"-mobile",type:o.PO.AddToMyFandoms,insertConfig:{type:o.pz.Custom},targeting:a},{disabled:u,optimizelyId:25704630007,name:s.VARIANT3+"-mobile",type:o.PO.AddToMyFandoms,insertConfig:{type:o.pz.Custom},targeting:a},{disabled:u,optimizelyId:25704630007,name:s.VARIANT4+"-mobile",type:o.PO.AddToMyFandoms,insertConfig:{type:o.pz.Custom},targeting:a},{disabled:u,optimizelyId:25720150007,name:s.VARIANT1+"-desktop",type:o.PO.AddToMyFandoms,insertConfig:{type:o.pz.Custom},targeting:a},{disabled:u,optimizelyId:25720150007,name:s.VARIANT2+"-desktop",type:o.PO.AddToMyFandoms,insertConfig:{type:o.pz.Custom},targeting:a},{disabled:u,optimizelyId:25720150007,name:s.VARIANT3+"-desktop",type:o.PO.AddToMyFandoms,insertConfig:{type:o.pz.Custom},targeting:a},{disabled:u,optimizelyId:25720150007,name:s.VARIANT4+"-desktop",type:o.PO.AddToMyFandoms,insertConfig:{type:o.pz.Custom},targeting:a}]},8914:(e,t,n)=>{"use strict";n.d(t,{B:()=>r,Z:()=>a});var o=n(8615),i=n(1108);const r={NOTIFICATION1:"desktop-add-page-to-collection-notification-1",NOTIFICATION2:"desktop-add-page-to-collection-notification-2"},a=[{name:r.NOTIFICATION1,type:i.PO.DesktopAddPageToCollection,insertConfig:{type:i.pz.Custom},optimizelyId:24207811517,config:{variant:r.NOTIFICATION1},targeting:o.yp},{name:r.NOTIFICATION2,type:i.PO.DesktopAddPageToCollection,insertConfig:{type:i.pz.Custom},optimizelyId:24207811517,config:{variant:r.NOTIFICATION2},targeting:o.yp}]},675:(e,t,n)=>{"use strict";n.d(t,{W:()=>o,Z:()=>p});var o,i=n(8114),r=n(8615),a=n(1108);!function(e){e.Desktop="after_toc_placement",e.Mobile="after_infobox_placement"}(o||(o={}));const s={type:a.Bv.MwConfig,property:"wgFandomQuizzesEnabled",value:!0},u={type:a.Bv.FandomQuizzes,property:"wgFandomQuizzesEnabled",value:!0},d={type:a.Bv.FandomQuizzes,property:"wgFandomQuizzesOnFepoEnabled",value:!0},l=i.Z.any({type:a.Bv.CurrentContext,property:"page",value:"article"},{type:a.Bv.DomNode,selector:"#mw-content-text [data-quiz-anchor]"}),c=i.Z.any({type:a.Bv.CurrentContext,property:"page",value:"quiz-index"},{type:a.Bv.CurrentContext,property:"page",value:"quiz-page"}),p=[{name:"wiki-quiz-consumption-module-desktop",type:a.PO.WikiQuizConsumptionModule,insertConfig:{type:a.pz.Custom},config:{variant:o.Desktop},targeting:i.Z.all(s,r.gU,r.s3,l)},{name:"wiki-quiz-consumption-module-mobile",type:a.PO.WikiQuizConsumptionModule,insertConfig:{type:a.pz.Custom},config:{variant:o.Mobile},targeting:i.Z.all(s,r.gU,r.LP,l)},{name:"discussion-quiz-consumption-module",type:a.PO.DiscussionQuizConsumptionModule,insertConfig:{type:a.pz.Custom},targeting:i.Z.all(u,d,r.yd)},{name:"trivia-quiz-consumption-module",type:a.PO.TriviaQuizConsumptionModule,insertConfig:{type:a.pz.Custom},targeting:i.Z.all(r.$5,c)},{name:"fanhub-quiz-consumption-module",type:a.PO.FanhubQuizConsumptionModule,insertConfig:{type:a.pz.Custom},targeting:i.Z.all(r.v8)}]},6370:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s,g:()=>o});var o,i=n(8114),r=n(8615),a=n(1108);!function(e){e.Discussions="discussions",e.Trivia="trivia"}(o||(o={}));const s=[{name:"discussions-quiz-targeting-editor-module",type:a.PO.QuizMetaEditorModule,insertConfig:{type:a.pz.Custom},config:{variant:o.Discussions},targeting:i.Z.all(r.Lj,{type:a.Bv.CurrentContext,property:"product",value:"dis"},i.Z.any({type:a.Bv.CurrentContext,property:"productId",value:"2750727"},{type:a.Bv.CurrentContext,property:"productId",value:"1081891"}),i.Z.any({type:a.Bv.CurrentContext,property:"page",value:"feed"},{type:a.Bv.CurrentContext,property:"page",value:"post"}))},{name:"trivia-quiz-targeting-editor-module",type:a.PO.QuizMetaEditorModule,insertConfig:{type:a.pz.Custom},config:{variant:o.Trivia},targeting:i.Z.all(r.Lj,{type:a.Bv.CurrentContext,property:"product",value:"trivia"},{type:a.Bv.CurrentContext,property:"page",value:"quiz-page"})}]},2067:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var o=n(1108),i=n(8615);const r=[{name:"referenced-links-desktop",optimizelyId:"25875790265",type:o.PO.ReferencedLinks,insertConfig:{type:o.pz.Custom},targeting:i._B},{name:"referenced-links-mobile",optimizelyId:"25899750130",type:o.PO.ReferencedLinks,insertConfig:{type:o.pz.Custom},targeting:i.ke}]},9302:(e,t,n)=>{"use strict";n.d(t,{Z:()=>c,i:()=>o});var o,i=n(1108),r=n(8114),a=n(8615);!function(e){e[e.DESKTOP=0]="DESKTOP",e[e.MOBILE=1]="MOBILE"}(o||(o={}));const s=".portable-infobox-wrapper, .mw-parser-output > p, .fandom-stats",u={type:i.pz.Element,selectors:[{selector:"#WikiaRail, .main-page-tag-rcs #top_boxad",method:i.Eo.After},{selector:".main-page-tag-rcs",method:i.Eo.Prepend}]},d={type:i.pz.Element,selectors:[{selector:s,method:i.Eo.After}]},l={type:i.Bv.AtLeastDomNodes,selector:s,min:2},c=[{name:"sponsored-widgets-countdown-clock-consumption-module-desktop",type:i.PO.SponsoredWidgetsCountdownClockConsumptionModule,insertConfig:u,config:{countdownClocks:[],variant:o.DESKTOP},targeting:r.Z.all(a.v9,a.S9,a.nR,r.Z.any(a.Th,a.ny))},{name:"sponsored-widgets-countdown-clock-consumption-module-mobile",type:i.PO.SponsoredWidgetsCountdownClockConsumptionModule,insertConfig:d,config:{countdownClocks:[],variant:o.MOBILE},targeting:r.Z.all(a.i1,a.S9,a.nR,l,r.Z.any(a.Th,a.ny))}]},9874:(e,t,n)=>{"use strict";n.d(t,{Nq:()=>me,Po:()=>ve,os:()=>ye});var o=n(655),i=n(5823),r=n(1108);const a=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return document.querySelectorAll(e.selector).length>=e.min})),s=e=>{const{selector:t,min:n}=e;return!("string"!=typeof t||!t.length||"number"!=typeof n||n<=0)};var u=n(9960);const d=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{value:t}=e;return Array.isArray(t)?t.includes((0,u.l)()):t===(0,u.l)()})),l=e=>{const{value:t}=e;return!(t&&!t.length)};var c=n(9267);const p=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{cookieName:t,value:n}=e,o=(0,c.A)(t);return!!o&&(Array.isArray(n)?n.some((e=>o.includes(e))):!((null==n?void 0:n.length)>0)||o.includes(n))})),f=e=>{const{cookieName:t,value:n}=e;return!("string"!=typeof t||!t.length||n&&!n.length)};var g=n(4485);const v=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){var t,n;const o=(0,g.$r)(),{property:r,value:a,adTags:s}=e;try{if("string"==typeof r){const e=a.toLowerCase();if("adTags"!==r){const t=o[r];return(null==t?void 0:t.toLowerCase())===e}{const n=null!==(t=null==o?void 0:o.adTags)&&void 0!==t?t:{};return Object.values(n).reduce(((e,t)=>e.concat(t)),[]).map((e=>e.toLowerCase())).some((t=>t===e))}}if(void 0!==s){const e=null!==(n=null==o?void 0:o.adTags)&&void 0!==n?n:{};let t=!0;for(const[n,o]of Object.entries(s))t&&(t=o.every((t=>e[n].includes(t))));return t}}catch(t){i.Z.error("RulesEngine/currentContext: Exception",t,e)}return!1})),m=e=>{const{property:t,value:n}=e;return!("string"!=typeof t||!t.length||n&&("string"!=typeof n||!n.length))},y=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{start:t,end:n}=e,o=Date.now();let i=!0;return"number"==typeof t&&o<t&&i&&(i=!1),"number"==typeof n&&o>n&&i&&(i=!1),i})),h=e=>{const{start:t,end:n}=e;return!(t&&"number"!=typeof t||n&&"number"!=typeof n||t&&n&&!(t<=n))},w=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{selector:t,attribute:n,value:o}=e,r=document.querySelector(t);if(!r)return!1;if(n&&!(null==r?void 0:r.hasAttribute(n)))return!1;if(n&&(null==o?void 0:o.length)>0)try{return new RegExp(o).test(r.getAttribute(n))}catch(t){return i.Z.error("RulesEngine/domNode: Exception",t,e),!1}return!0})),b=e=>{const{selector:t,attribute:n,value:o}=e;return!("string"!=typeof t||!t.length||n&&("string"!=typeof n||!n.length)||o&&("string"!=typeof o||!o.length))},C=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){var t,n;const o=(null===(n=null===(t=window.mw)||void 0===t?void 0:t.config)||void 0===n?void 0:n.get("isTestWiki"))||!1;return e.value===o})),O=e=>{const{value:t}=e;return"boolean"==typeof t};var k=n(1703);const E=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){var t;return null===(t=null===document||void 0===document?void 0:document.referrer)||void 0===t?void 0:t.includes(e.urlContains)})),T=e=>{const{urlContains:t}=e;return!("string"!=typeof t||!t.length)};var S;!function(e){e.Height="Height",e.Width="Width"}(S||(S={}));const I={[S.Width]:"innerWidth",[S.Height]:"innerHeight"},A=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{property:t,min:n,max:o}=e;try{if(void 0!==n||void 0!==o){const e=window[I[t]];let i=!0;return"number"==typeof n&&i&&(i=e>=n),"number"==typeof o&&i&&(i=e<=n),i}i.Z.error("RuleEngine/checkScreenSizeRule: Neither min nor max value was defined",e)}catch(t){i.Z.error("RuleEngine/checkScreenSizeRule: Exception",t,e)}return!1})),_=e=>{const{property:t,min:n,max:o}=e;return!(!Object.values(S).includes(t)||n&&("number"!=typeof n||n<0)||o&&("number"!=typeof o||o<0)||(o&&n?!(o<=n):!o&&!n))};var M=n(5426),x=n(7756);const Z=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{actionType:t,property:n,value:o}=e;try{const e=yield window.SilverSurferSDK.getActions((0,M.LP)(),t);return void 0===n&&(null==e?void 0:e.length)>0||!!e.find((e=>e[n]===o))}catch(t){i.Z.error("RuleEngine/checkSilverSurferActionRule: Exception",t,e)}return!1})),z=e=>{const{actionType:t,property:n,value:o}=e;return!(!Object.values(x.U).includes(t)||n&&("string"!=typeof n||!n.length)||o&&("string"!=typeof o||!o.length))};var D,R=n(681);function P(){return(0,o.mG)(this,void 0,void 0,(function*(){const e=window.SilverSurferSDK.getContext().current;if(e.product!==g.xs.MEDIAWIKI)return i.Z.info("fetchTaxonomyPageData: Unsupported product"),null;const t=e.productId,n=e.pageId,o=yield(0,R.ck)(`taxonomy/pagedata/${t}/${n}`);if(o.ok){const e=yield o.json();if(e.wikiId===t&&e.pageId===n)return i.Z.debug("fetchTaxonomyPageData: Fetched current page data",e),e}return 404===o.status||i.Z.error("fetchTaxonomyPageData: Error fetching current page data",o),null}))}!function(e){e.Audio="Audio",e.Book="Book",e.Chapter="Chapter",e.Character="Character",e.Comic="Comic",e.Episode="Episode",e.Event="Event",e.Game="Game",e.GameMechanic="GameMechanic",e.Location="Location",e.Movie="Movie",e.Navigation="Navigation",e.Object="Object",e.Organization="Organization",e.Other="Other",e.Quest="Quest",e.Season="Season",e.Staff="Staff",e.Trait="Trait",e.TVShow="TVShow"}(D||(D={}));let N={};const $=e=>t=>(0,o.mG)(void 0,void 0,void 0,(function*(){try{const n=yield e();return!!n&&n.classificationLabel===t.classification===t.value}catch(e){return i.Z.error("RuleEngine/checkArticleTaxonomyRule: Exception",e,t),!1}})),L=e=>{const{classification:t}=e;return!("string"!=typeof t||!t.length||!/[A-Z]/.test(t[0]))},B=($(P),$(("taxonomy-re",j=P,()=>function(e,t){if(N[e])return N[e];const n=t();return N[e]=n,n}("taxonomy-re",j))));var j,U=n(437);const G=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return U.Xw})),F=e=>!0;var W=n(7904);const V=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{branch:t}=e;return"canary"===t?"true"===(0,W.Z)(U.Gr.CANARY):(0,W.Z)(U.Gr.BRANCH)===t})),Q=e=>{const{branch:t}=e;return!("string"!=typeof t||!t.length)};function q(e){return Array.isArray(e)?e:"string"==typeof e?[e]:void 0}function H(e,t){return e.some((e=>new RegExp(e,"i").test(t)))}const K=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{location:t}=window;try{const n=q(null==e?void 0:e.href),o=q(null==e?void 0:e.host),i=q(null==e?void 0:e.pathname),r=q(null==e?void 0:e.search);return!(n&&!H(n,t.href)||o&&!H(o,t.host)||i&&!H(i,t.pathname)||r&&!H(r,t.search))}catch(t){i.Z.error("RuleEngine/checkUrlRule: Exception",t,e)}return!1})),J=e=>void 0===e||"string"==typeof e||Array.isArray(e)&&e.every((e=>"string"==typeof e)),Y=e=>{const{href:t,host:n,pathname:o,search:i}=e;return J(t)&&J(n)&&J(o)&&J(i)};var X=n(5686),ee=n(7018),te=n(812);const ne=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){var t,n;const{lastVisitedPages:o,property:r,value:a,adTags:s,atLeast:u}=e;try{const e=window.SilverSurferSDK.getContext().pages.slice(0,o);let i=0;for(const o of e){if("string"==typeof r){if("adTags"===r){const e=a.toLowerCase(),n=null!==(t=null==o?void 0:o.adTags)&&void 0!==t?t:{};return Object.values(n).reduce(((e,t)=>e.concat(t)),[]).map((e=>e.toLowerCase())).some((t=>t===e))}{const e=o[r],t=a.toLowerCase();(null==e?void 0:e.toLowerCase())===t&&i++}}if(void 0!==s){const e=null!==(n=null==o?void 0:o.adTags)&&void 0!==n?n:{};let t=!0;for(const[n,o]of Object.entries(s))t&&(t=o.every((t=>e[n].includes(t))));t&&i++}}return i>=u}catch(t){i.Z.error("RulesEngine/visitedPages: Exception",t,e)}return!1})),oe=e=>{const{lastVisitedPages:t,property:n,value:o,atLeast:i}=e;return!("number"!=typeof t||"string"!=typeof n||!n.length||"string"!=typeof o||!o.length||"number"!=typeof i)};var ie=n(7334),re=n.n(ie);const ae=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{any:t}=e,n=Array.from(document.querySelectorAll('a[href^="/wiki/Category"]')).map((e=>e.innerText)).map(re());return!(!Array.isArray(t)||!t.length)&&t.map((e=>new RegExp(e,"i"))).map((e=>n.some((t=>e.test(t))))).some((e=>e))})),se=e=>{const{any:t}=e;return!(!Array.isArray(t)||t.some((e=>"string"!=typeof e)))},ue=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){return!0})),de=e=>!0,le=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{context:t,property:n,value:o}=e;if((0,g.$r)().product!==g.xs.MEDIAWIKI)return i.Z.debug("RuleEngine/checkFandomContext: Unsupported product"),!1;try{if(!window.fandomContext||!window.fandomContext[t])return i.Z.error("RuleEngine/checkFandomContext: fandomContext not initialized"),!1;const e=window.fandomContext[t][n];return void 0===e?(i.Z.error(`RuleEngine/checkFandomContext: property [${n}] does not exist in fandomContext [${t}]`),!1):Array.isArray(e)?"number"==typeof o||"string"==typeof o?e.some((e=>e===o)):o.some((t=>e.includes(t))):Array.isArray(o)?"number"==typeof e||"string"==typeof e?o.some((t=>t===e)):e.some((e=>o.includes(e))):"object"==typeof o&&o?Object.keys(e).some((t=>e[t]===o[t])):e===o}catch(t){i.Z.error("RuleEngine/checkFandomContext: Exception",t,e)}return!1})),ce=e=>{const{context:t,property:n,value:o}=e;return!("string"!=typeof t||!["site","page"].includes(t)||"string"!=typeof n||!n.length||!o)},pe=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{property:t,value:n}=e;try{const e=window.quizzes;if(!e)return i.Z.error("RuleEngine/checkFandomQuizzes: window.quizzes not initialized"),!1;const o=e[t];return void 0===o?(i.Z.error(`RuleEngine/checkFandomQuizzes: property [${t}] does not exist in quizzes object [${e}]`),!1):o===n}catch(t){i.Z.error("RuleEngine/checkFandomQuizzes: Exception",t,e)}})),fe=e=>{const{property:t,value:n}=e;return!("string"!=typeof t||!t.length)&&"boolean"==typeof n};function ge(e,t,n){switch(e){case r.CU.And:return t&&n;case r.CU.Or:return t||n;case r.CU.Not:return!t}}function ve(e){return(0,o.mG)(this,void 0,void 0,(function*(){return new Promise(((t,n)=>{me(e).then((n=>{t(n?e:void 0)})).catch((n=>{i.Z.error("RulesEngine: Exception when checking targeting rules",n,e),t(void 0)}))}))}))}function me(e){return(0,o.mG)(this,void 0,void 0,(function*(){const t={[r.Bv.TestOnlyInDev]:G,[r.Bv.TestOnlyOnBranch]:V,[r.Bv.AlwaysLoad]:ue,[r.Bv.CurrentContext]:v,[r.Bv.UserLoggedIn]:te.U,[r.Bv.VisitedPages]:ne,[r.Bv.SilverSurferAction]:Z,[r.Bv.Referrer]:E,[r.Bv.UserDevice]:X.ij,[r.Bv.DomNode]:w,[r.Bv.DateRange]:y,[r.Bv.UserGeo]:ee.s,[r.Bv.Cookie]:p,[r.Bv.ScreenSize]:A,[r.Bv.Url]:K,[r.Bv.WikiCategory]:ae,[r.Bv.MwConfig]:k.n,[r.Bv.IsTestWiki]:C,[r.Bv.Taxonomy]:B,[r.Bv.AtLeastDomNodes]:a,[r.Bv.Browser]:d,[r.Bv.FandomContext]:le,[r.Bv.FandomQuizzes]:pe},n=`RulesEngine/Targeting [${e.name}]:`;i.Z.debug(`${n} Checking targeting rules`,e);const s=e.targeting,u=[];i.Z.debug(`${n} Converting rules to function calls`);const l=s.map((e=>{if("string"!=typeof e){const r=null==t?void 0:t[e.type];if("function"==typeof r)return()=>(0,o.mG)(this,void 0,void 0,(function*(){try{return{result:yield r(e),rule:e}}catch(t){return i.Z.error(`${n} Exception when checking rule`,t,e),{result:!1,rule:e}}}))}return()=>(0,o.mG)(this,void 0,void 0,(function*(){return{result:e,rule:e}}))}));e.internalState||(e.internalState={}),e.internalState=Object.assign(Object.assign({},e.internalState),{targetingEvaluations:[]});const c=yield Promise.all(l.map((e=>e&&e())));if(e.internalState.targetingEvaluations.push(...c.slice()),i.Z.debug(`${n} Parsing targeting stack`,c),c.slice(0,2).some((({result:e})=>"string"==typeof e&&(e===r.CU.And||e===r.CU.Or))))return i.Z.error(`${n} Incorrect operator order! You cannot use 'and|or' as first two items as there is no previous value to operate on`,u),!1;if(s.forEach(((e,t)=>{if("boolean"==typeof c[t].result)return i.Z.debug(`${n} Step ${t}: Push ${c[t].result} to stack from`,e),void u.push(c[t].result);if("string"!=typeof e)i.Z.error(`${n} Unknown rule`,e);else if(e===r.CU.Not){const o=u.pop(),r=ge(e,o);i.Z.debug(`${n} Step ${t}: Using operator: ${e} ${o} => ${r}`),u.push(r)}else{const o=u.pop(),r=u.pop(),a=ge(e,r,o);i.Z.debug(`${n} Step ${t}: Using operator: ${r} ${e} ${o} => ${a}`),u.push(a)}})),1!==u.length)return i.Z.error(`${n} Incorrect targeting rules! Leftover stack has ${u.length} items!`,u),!1;const f=u.pop();return void 0===f?(i.Z.error(`${n} Incorrect targeting rules! Found 'undefined' value. Please check your targeting rules`,u),!1):(i.Z.debug(`${n} Final value`,f),e.internalState.targetingEvaluationsResult=f,f)}))}function ye(e){let t=0;const n=Object.values(r.CU),o=Object.values(r.Bv),a={[r.Bv.TestOnlyInDev]:F,[r.Bv.TestOnlyOnBranch]:Q,[r.Bv.AlwaysLoad]:de,[r.Bv.CurrentContext]:m,[r.Bv.UserLoggedIn]:te.J,[r.Bv.VisitedPages]:oe,[r.Bv.SilverSurferAction]:z,[r.Bv.Referrer]:T,[r.Bv.UserDevice]:X.D1,[r.Bv.DomNode]:b,[r.Bv.DateRange]:h,[r.Bv.UserGeo]:ee.A,[r.Bv.Cookie]:f,[r.Bv.ScreenSize]:_,[r.Bv.Url]:Y,[r.Bv.WikiCategory]:se,[r.Bv.MwConfig]:k.l,[r.Bv.IsTestWiki]:O,[r.Bv.Taxonomy]:L,[r.Bv.AtLeastDomNodes]:s,[r.Bv.Browser]:l,[r.Bv.FandomContext]:ce,[r.Bv.FandomQuizzes]:fe};return e.forEach((e=>{const s=`RulesEngine/validateTargeting: Error in "${e.name}"`,{targeting:u}=e;if(!Array.isArray(u)||u.length<1)return i.Z.error(`${s} - not an array or not enough elements`),void t++;const d=u.reduce(((e,t)=>e+(function(e,t,n,o){const r="RulesEngine/validateOperatorOrRule";return"string"==typeof e?!!t.includes(e)||(i.Z.error(`${r} - unknown operator`,e),!1):"string"==typeof(null==e?void 0:e.type)?n.includes(e.type)?!!(0,o[e.type])(e)||(i.Z.error(`${r} - rule config is invalid`,e),!1):(i.Z.error(`${r} - unknown rule`,e),!1):(i.Z.error(`${r} - incorrect element`,e),!1)}(t,n,o,a)?0:1)),0);d>0&&(i.Z.error(`${s} - one or more rules are incorrect`),t+=d);let l=0;u.forEach((e=>{if("string"==typeof e){const t=e;t!==r.CU.And&&t!==r.CU.Or||(l<2&&i.Z.error(`${s} - incorrect operator on stack, ${t} requires two values`),l--),t===r.CU.Not&&l<1&&i.Z.error(`${s} - incorrect operator on stack, ${t} requires one value`)}else l++})),1!==l&&i.Z.error(`${s} - incorrect stack size: ${l} (should be a one)`,u)})),t}},8114:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var o=n(5564),i=n.n(o),r=n(1108);function a(e){return(...t)=>{if(t.length<2)return i()(t);const n=[];return t.forEach(((t,o)=>{n.push(t),o>0&&n.push([e])})),i()(n)}}const s={not:function(e){if(Array.isArray(e)&&0===e.length)return[];const t=[];return t.push(e),t.push([r.CU.Not]),i()(t)},any:a(r.CU.Or),all:a(r.CU.And)}},8615:(e,t,n)=>{"use strict";n.d(t,{$5:()=>d,GR:()=>O,JI:()=>R,LP:()=>b,Lj:()=>f,S9:()=>s,Th:()=>y,_B:()=>P,e1:()=>L,gU:()=>z,i1:()=>m,ke:()=>N,nR:()=>g,ny:()=>h,ok:()=>k,pP:()=>j,pX:()=>p,pq:()=>c,q1:()=>B,s3:()=>w,v8:()=>l,v9:()=>v,y$:()=>$,yN:()=>A,yd:()=>u,yp:()=>D,zo:()=>E});var o=n(9960),i=n(1108),r=n(5686),a=n(8114);const s={type:i.Bv.CurrentContext,property:"product",value:"mw"},u={type:i.Bv.CurrentContext,property:"product",value:"dis"},d={type:i.Bv.CurrentContext,property:"product",value:"trivia"},l={type:i.Bv.CurrentContext,property:"product",value:"fanhub"},c={type:i.Bv.CurrentContext,property:"product",value:"f2"},p={type:i.Bv.CurrentContext,property:"pageLanguage",value:"en"},f={type:i.Bv.UserLoggedIn,value:!0},g={type:i.Bv.UserLoggedIn,value:!1},v={type:i.Bv.UserDevice,deviceType:r.If.Desktop},m={type:i.Bv.UserDevice,deviceType:r.If.Mobile},y={type:i.Bv.CurrentContext,property:"page",value:"article"},h={type:i.Bv.CurrentContext,property:"page",value:"home"},w={type:i.Bv.MwConfig,property:"skin",value:"fandomdesktop"},b={type:i.Bv.MwConfig,property:"skin",value:"fandommobile"},C={type:i.Bv.DomNode,selector:"body",attribute:"class",value:"has-featured-video"},O={type:i.Bv.CurrentContext,property:"productCategory",value:"tv"},k={type:i.Bv.DomNode,selector:"body",attribute:"class",value:"ns-0"},E={type:i.Bv.TestOnlyInDev,value:!0},T={type:i.Bv.TestOnlyOnBranch,value:"canary"},S={type:i.Bv.IsTestWiki,value:!0},I={type:i.Bv.UserGeo,country:["us"]},A=(i.Bv.AlwaysLoad,{type:i.Bv.Url,search:"ss_debug=true"}),_=(i.Bv.MwConfig,{type:i.Bv.MwConfig,property:"wgAction",value:["edit","mapedit"]}),M={type:i.Bv.CurrentContext,property:"page",value:"topic"},x={type:i.Bv.Url,search:"(?:action|veaction)=edit"},Z={type:i.Bv.Browser,browser:o.A.Safari},z=a.Z.all(s,g),D=a.Z.all(v,z),R=a.Z.all(m,z),P=a.Z.all(D,y),N=a.Z.all(R,y),$=(a.Z.not(C),a.Z.all(p,I),a.Z.any(E,T),a.Z.not(S)),L=a.Z.not(_),B=a.Z.all(s,h),j=(a.Z.all(c,a.Z.any(M,h)),a.Z.not(x));a.Z.not(Z)},1703:(e,t,n)=>{"use strict";n.d(t,{l:()=>s,n:()=>a});var o=n(655),i=n(4485),r=n(5823);const a=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const{property:t,value:n}=e;if((0,i.$r)().product!==i.xs.MEDIAWIKI)return r.Z.debug("RuleEngine/checkMwConfig: Unsupported product"),!1;try{if(!window.mw||!window.mw.config)return r.Z.error("RuleEngine/checkMwConfig: mw not initialized"),!1;const e=window.mw.config.get(t);return void 0===e?(r.Z.error(`RuleEngine/checkMwConfig: property [${t}] does not exist in mw`),!1):Array.isArray(n)?"number"==typeof e||"string"==typeof e?n.some((t=>t===e)):e.some((e=>n.includes(e))):"object"==typeof n&&n?Object.keys(e).some((t=>e[t]===n[t])):e===n}catch(t){r.Z.error("RuleEngine/checkMwConfig: Exception",t,e)}return!1})),s=e=>{const{property:t,value:n}=e;return!("string"!=typeof t||!t.length||!n)}},5686:(e,t,n)=>{"use strict";n.d(t,{D1:()=>u,If:()=>o,ij:()=>s});var o,i,r=n(655),a=n(1671);!function(e){e.Desktop="desktop",e.Mobile="mobile"}(o||(o={})),function(e){e.Landscape="landscape",e.Portrait="portrait"}(i||(i={}));const s=e=>(0,r.mG)(void 0,void 0,void 0,(function*(){const{deviceType:t,deviceOrientation:n}=e;let r=!0;return t&&r&&(r=t===(!1===(0,a.XS)()?o.Desktop:o.Mobile)),n&&r&&(r=n===function(){var e,t;const n=null!==(e=null===window||void 0===window?void 0:window.innerHeight)&&void 0!==e?e:0;return(null!==(t=null===window||void 0===window?void 0:window.innerWidth)&&void 0!==t?t:0)>=n?i.Landscape:i.Portrait}()),r})),u=e=>{const{deviceType:t,deviceOrientation:n}=e;return!(t&&!Object.values(o).includes(t)||n&&!Object.values(i).includes(n))}},7018:(e,t,n)=>{"use strict";n.d(t,{A:()=>a,s:()=>r});var o=n(655),i=n(4485);const r=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){const t=(null!==(o=null===(n=(0,i.Vp)())||void 0===n?void 0:n.country)&&void 0!==o?o:"us").toLowerCase();var n,o;const{country:r}=e;return r.some((e=>e.toLowerCase()===t))})),a=e=>{const{country:t}=e;return!(!Array.isArray(t)||t.some((e=>"string"!=typeof e)))}},812:(e,t,n)=>{"use strict";n.d(t,{J:()=>u,U:()=>s});var o=n(655),i=(n(7841),n(3810)),r=n(5823);const a=(0,i.Z)({eventCheck:()=>{var e;return void 0!==(null===window||void 0===window?void 0:window._ulc)||void 0!==(null===(e=null===window||void 0===window?void 0:window.fandom)||void 0===e?void 0:e.user)},intervalTime:50,maxWaitTime:5e3,onReject:()=>({id:0}),onResolve:()=>{var e,t;return(null===(e=null===window||void 0===window?void 0:window._ulc)||void 0===e?void 0:e.id)?null===window||void 0===window?void 0:window._ulc:null===(t=null===window||void 0===window?void 0:window.fandom)||void 0===t?void 0:t.user}}),s=e=>(0,o.mG)(void 0,void 0,void 0,(function*(){try{const t=yield a(),n="string"==typeof t.id?parseInt(t.id,10):t.id;return e.value===n>0}catch(e){0===(null==e?void 0:e.id)?r.Z.debug("checkUserLoggedInRule: timed out waiting for user to be available, assuming anon"):r.Z.debug("checkUserLoggedInRule: error while waiting for user to be available, assuming anon",e)}return!e.value})),u=e=>{const{value:t}=e;return"boolean"==typeof t}},1108:(e,t,n)=>{"use strict";var o,i,r,a,s;n.d(t,{Bv:()=>o,CU:()=>s,Eo:()=>a,PO:()=>i,pz:()=>r}),function(e){e.Example="Example",e.AlwaysLoad="AlwaysLoad",e.TestOnlyInDev="TestOnlyInDev",e.TestOnlyOnBranch="TestOnlyOnBranch",e.CurrentContext="CurrentContext",e.UserLoggedIn="UserLoggedIn",e.VisitedPages="VisitedPages",e.UserDevice="UserDevice",e.DomNode="DomNode",e.DateRange="DateRange",e.UserGeo="UserGeo",e.Cookie="UserCookie",e.SilverSurferAction="SilverSurferAction",e.ScreenSize="ScreenSize",e.Url="Url",e.Referrer="Referrer",e.WikiCategory="WikiCategory",e.MwConfig="mwConfig",e.IsTestWiki="IsTestWiki",e.Taxonomy="Taxonomy",e.AtLeastDomNodes="AtLeastDomNodes",e.Browser="Browser",e.FandomContext="FandomContext",e.FandomQuizzes="FandomQuizzes"}(o||(o={})),function(e){e.Example="ExampleModule",e.InWikiEmail="InWikiEmailModule",e.DebugMenu="DebugMenuModule",e.HaloEffectVertical="HaloEffectVerticalModule",e.WikiQuizConsumptionModule="WikiQuizConsumptionModule",e.DiscussionQuizConsumptionModule="DiscussionQuizConsumptionModule",e.TriviaQuizConsumptionModule="TriviaQuizConsumptionModule",e.FanhubQuizConsumptionModule="FanhubQuizConsumptionModule",e.QuizCreation="QuizCreation",e.QuizMetaEditorModule="QuizMetaEditorModule",e.NotificationCMS="NotificationCMS",e.MarketingNotifications="MarketingNotifications",e.OnWikiRecommendations="OnWikiRecommendations",e.SponsoredWidgetsCountdownClockConsumptionModule="SponsoredWidgetsCountdownClockConsumptionModule",e.SponsoredWidgetsSponsoredLogoConsumptionModule="SponsoredWidgetsSponsoredLogoConsumptionModule",e.DesktopAddPageToCollection="DesktopAddPageToCollection",e.AddToMyFandoms="AddToMyFandoms",e.ArticleContributionStats="ArticleContributionStats",e.GlobalNavThemeColorsHoldBack="GlobalNavThemeColorsHoldBack",e.EditButtonLabelsForAnonDesktop="EditButtonLabelsForAnonDesktop",e.ReferencedLinks="ReferencedLinks"}(i||(i={})),function(e){e.Instant="Instant",e.Element="Element",e.UcpInContext="UcpInContext",e.Custom="Custom"}(r||(r={})),function(e){e.After="After",e.Append="Append",e.Before="Before",e.Prepend="Prepend"}(a||(a={})),function(e){e.And="AND",e.Or="OR",e.Not="NOT"}(s||(s={}))},5426:(e,t,n)=>{"use strict";n.d(t,{LP:()=>s,T6:()=>i,fM:()=>u,gv:()=>a,yc:()=>r});const o={silverSurferToken:null,allModules:[],renderedModules:[]},i=()=>{o.renderedModules=[]},r=e=>{o.renderedModules=e},a=e=>{o.silverSurferToken=e},s=()=>o.silverSurferToken,u=()=>o.renderedModules},8459:(e,t,n)=>{"use strict";n.d(t,{Eq:()=>s,Es:()=>c,fK:()=>l,mG:()=>a,o3:()=>d,yI:()=>u});var o=n(655),i=n(5426),r=n(5823);function a(e,t,n){return(0,o.mG)(this,void 0,void 0,(function*(){if("string"==typeof e&&e.length)try{return yield window.SilverSurferSDK.addAction((0,i.LP)(),e,t,n),r.Z.debug("saveAction",{name:e,type:t,payload:n}),!0}catch(o){r.Z.error("saveAction exception",o,{name:e,type:t,payload:n})}return!1}))}function s(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){try{return(yield window.SilverSurferSDK.getActions((0,i.LP)(),t)).filter((t=>t.name===e))}catch(n){r.Z.error("getAllActions exception",n,{name:e,type:t})}return[]}))}function u(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){const n=yield s(e,t),[o]=n;return o}))}function d(e,t){return(0,o.mG)(this,void 0,void 0,(function*(){yield a(e,window.SilverSurferSDK.ACTION.IMPRESSION,t)}))}const l=864e5,c=7*l},681:(e,t,n)=>{"use strict";n.d(t,{ck:()=>a,rL:()=>d,Sw:()=>u});var o=n(437);o._u;const i=((e,t)=>(e,n)=>function(e,t,n,o={}){console.error("logErrorEvent",{client:e,clientVersion:t,name:n,data:o})}("pathfinder",t,e,(({ok:e,redirected:t,status:n,statusText:o,type:i,url:r})=>({ok:e,redirected:t,status:n,statusText:o,type:i,url:r}))(n)))(0,o._u);function r(e,t,n){return void 0===n&&(n={}),fetch(t,n).then((n=>("opaque"===n.type||n.ok||401===n.status||404===n.status||("function"==typeof e?e(t,n):console.error("fetchWithLogging Error",{url:t,response:n})),n)))}const a=(s=i,(e,t={})=>r(s,(0,o.sH)()+e,Object.assign({mode:"cors",credentials:"include"},t)));var s;const u=(e=>(t,n,i={})=>r(e,(0,o.sH)()+t,Object.assign({method:"POST",credentials:"include",body:n},i)))(i),d=(e=>(t,n,i={})=>r(e,(0,o.sH)()+t,Object.assign({method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",credentials:"include",body:JSON.stringify(n)},i)))(i)},9960:(e,t,n)=>{"use strict";var o;function i(){const e=navigator.userAgent,t=navigator.vendor;return null!==e.match(/chrome|chromium|crios/i)&&t.match(/Google/i)?o.Chrome:e.match(/firefox|fxios/i)&&""===t?o.Firefox:e.indexOf("Safari")&&t.match(/Apple/i)&&-1==e.indexOf("CriOS")&&-1==e.indexOf("FxiOS")?o.Safari:null!==e.match(/opr\//i)?o.Opera:null!==e.match(/edg/i)?o.Edge:1!=e.indexOf("Trident")&&document.documentMode?o.IE:o.Others}n.d(t,{A:()=>o,l:()=>i}),function(e){e.Chrome="Chrome",e.Firefox="Firefox",e.Edge="Edge",e.Safari="Safari",e.Opera="Opera",e.IE="IE",e.Others="Others"}(o||(o={}))},5823:(e,t,n)=>{"use strict";n.d(t,{A:()=>r,Z:()=>a});var o=n(7471);function i(e){return["color: #fff","padding: 2px 4px","border-radius: 2px",`background-color: ${e}`]}function r(e){return{info:(0,o.Z)(`Pathfinder Module | ${e.name}`,"info",i("#334")),debug:(0,o.Z)(`Pathfinder Module | ${e.name}`,"debug",i("#550")),error:(0,o.Z)(`Pathfinder Module | ${e.name}`,"error",i("#800"))}}const a={info:(0,o.Z)("Pathfinder","info",i("#334")),debug:(0,o.Z)("Pathfinder","debug",i("#550")),error:(0,o.Z)("Pathfinder","error",i("#800"))}},2718:(e,t,n)=>{"use strict";n.d(t,{Q2:()=>s,XA:()=>d,g4:()=>u,zn:()=>a});var o=n(437),i=n(9267),r=n(5823);const a="pf_fm";function s(){return(0,i.A)(a)}function u(){document.cookie=`${a}=; path=/; domain=${location.hostname}; expires=${new Date(0).toUTCString()}`,(0,i.A)(a)||r.Z.info("Permanent forced module's cookie was deleted successfully")}function d(e){const t=(0,o.RG)()?"":"domain=.fandom.com";document.cookie=`${a}=${e}; max-age=2592000; ${t}; path=/`}},214:(e,t,n)=>{"use strict";n.d(t,{b:()=>i});var o=n(4485);function i(){var e;const t=function(){const e=/[?&]sw_date=([^&]+)/.exec(window.location.search),t=e?new Date(decodeURIComponent(e[1])):null;return t&&("Invalid Date"!==t.toString()?t:null)}();return{dateTime:(t||new Date).toISOString(),dateIsForced:null!==t,geo:null!==(e=(0,o.Vp)().country)&&void 0!==e?e:"",pageContext:window.SilverSurferSDK.getContext().current.toTransport()}}},3492:(e,t,n)=>{"use strict";n.d(t,{I:()=>i});var o=n(5823);function i(e,t,n,i,r){return e.sort(((e,t)=>e.id-t.id)).find((e=>e.size.width===t.width&&e.size.height===t.height))||(o.Z.debug(`${n}: widget(${i}): state(${r}): no applicable images`),null)}},768:(e,t,n)=>{"use strict";n.d(t,{L:()=>a});var o=n(5823);function i(e,t){if(!e.active)return"not active";const n=(o=e.startDateTime,i=e.endDateTime,r=t.dateTime,o&&r<o?"`startDateTime` > device `dateTime`":i&&i<=r?"`endDateTime` <= device `dateTime`":null);var o,i,r;if("string"==typeof n)return n;const a=function(e,t){switch(t.pageContext.p){case"mw":case"f2":return function(e,t){if(0===e.length)return"not enabled on UCP";const n=[];return e.find((e=>{var o,i,r;const a=`UCPTargeting(${e.id}): doesn't cover `;if(e.wikiId&&e.wikiId!==t.pageContext.pId)return n.push(a+"wikiId"),!1;if(e.wikiId&&e.articleIds.length&&!e.articleIds.includes(t.pageContext.pgId))return n.push(a+"articleId"),!1;if("f2"!==t.pageContext.p&&e.skins.length&&!e.skins.includes(t.pageContext.pVar))return n.push(a+"skin"),!1;if(e.geos.length&&!e.geos.includes(t.geo))return n.push(a+"geo"),!1;if(e.genres.length&&(!(null===(r=null===(i=null===(o=t.pageContext)||void 0===o?void 0:o.adTags)||void 0===i?void 0:i.gnre)||void 0===r?void 0:r.length)||!e.genres.find((e=>t.pageContext.adTags.gnre.includes(e)))))return n.push(a+"genres"),!1;if(window.mw){const t=window.mw.config.get("wikiCategories");if(null!=e.categories&&e.categories.length&&(!t||!e.categories.some((e=>t.includes(e)))))return n.push(a+"categories"),!1}return n.splice(0,n.length),!0})),n.length&&n.reduce(((e,t)=>e+", "+t))||null}(e.ucpTargetings,t);default:return"not supported product"}}(e,t);return"string"==typeof a?a:null}function r(e){return e.startDateTime&&isNaN(Date.parse(e.startDateTime))?"`startDateTime` is invalid":e.endDateTime&&isNaN(Date.parse(e.endDateTime))?"`endDateTime` is invalid":null}function a(e,t,n,a=void 0,s=void 0){e=e.sort(((e,t)=>e.id-t.id));const u=`${n}: `;for(const n of e){const e=u+`widget(${n.id}): `,d=t=>o.Z.error(e+t),l=r(n);if("string"==typeof l){d(l);continue}const c=a?a(n):null;if("string"==typeof c){d(c);continue}const p=t=>o.Z.debug(e+t),f=i(n,t);if("string"==typeof f){p(f);continue}const g=s?s(n,t):null;if("string"!=typeof g)return n;p(g)}return o.Z.debug(u+"no applicable widgets"),null}},9715:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var o=n(5823);function i(e,t){return e.startDateTime&&t.dateTime<e.startDateTime?"device `dateTime` < `startDateTime`":null}function r(e){return e.startDateTime&&isNaN(Date.parse(e.startDateTime))?"`startDateTime` is invalid":null}function a(e,t,n,a,s=void 0,u=void 0){e=[...e.filter((e=>null!==e.startDateTime)).sort(((e,t)=>t.startDateTime.localeCompare(e.startDateTime))),...e.filter((e=>null===e.startDateTime)).sort(((e,t)=>e.id-t.id))];const d=`${n}: widget(${a}): `;for(const n of e){const e=d+`state(${n.id}): `,a=t=>o.Z.error(e+t),l=r(n);if("string"==typeof l){a(l);continue}const c=s?s(n):null;if("string"==typeof c){a(c);continue}const p=t=>o.Z.debug(e+t),f=i(n,t);if("string"==typeof f){p(f);continue}const g=u?u(n,t):null;if("string"!=typeof g)return n;p(g)}return o.Z.debug(d+"no applicable states"),null}},396:(e,t,n)=>{"use strict";n.r(t),n.d(t,{buildModuleTrackingFunction:()=>r,buildTrackingFunctions:()=>u,trackExperimentsModule:()=>s,trackRootPathfinder:()=>a});var o=n(437),i=n(3338);function r(e){return u(e.type,e.name)}function a(e={}){return u("PF","Root")(e)}function s(e,t={}){return r(e)(t)}function u(e,t){const n=(0,o.mJ)(),r=`pf-experiments${n?"-dev":""}: ${e}`;return(0,i.ZP)({category:r,experimentVariant:t,isDebug:n})}},436:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>c,Rx:()=>a,IA:()=>d,nU:()=>l});var o=n(3810),i=n(437),r=n(5823);function a(e,t){var n;return null!==(n=null===window||void 0===window?void 0:window[e])&&void 0!==n?n:t}let s=!1,u=0;const d=()=>{var e;return!!(null===(e=window.optimizely)||void 0===e?void 0:e.initialized)},l=e=>{d()?e():(window.optimizely=window.optimizely||[],"function"==typeof window.optimizely.push&&window.optimizely.push({type:"addListener",filter:{type:"lifecycle",name:"initialized"},handler:e}))},c=(0,o.Z)({eventCheck:()=>!(!s&&(0===u&&(u=Date.now()),d()?(s=!0,r.Z.info(`waitForOptimizely: window.optimizely.initialized is true (in ${Date.now()-u}ms)`),0):(0,i.RG)()?(r.Z.info("waitForOptimizely: running on localhost, skipping"),s=!0,0):(0,i.V1)()?(r.Z.info("waitForOptimizely: running on dev domain, skipping"),s=!0,0):!function(){var e,t;const n=null!==(t=null===(e=null===window||void 0===window?void 0:window.location)||void 0===e?void 0:e.search)&&void 0!==t?t:"";return n.includes("ss_no_global_state=true")||n.includes("noexternals=1")}()||(r.Z.info("waitForOptimizely: no global state, skipping"),s=!0,0))),intervalTime:50,maxWaitTime:5e3,onReject:()=>!1,onResolve:()=>!0})},7756:(e,t,n)=>{"use strict";var o;n.d(t,{U:()=>o}),function(e){e.ADD="add",e.CLICK="click",e.CLOSE="close",e.CONFIRM="confirm",e.CREATE="create",e.DISABLE="disable",e.ENABLE="enable",e.ERROR="error",e.HOVER="hover",e.IMPRESSION="impression",e.IDENTITY="identity",e.KEYPRESS="keypress",e.NO_IMPRESSION="no-impression",e.OPEN="open",e.PLAY_VIDEO="play-video",e.QUIZ="quiz",e.REACTION="reaction",e.REMOVE="remove",e.SELECT="select",e.SHARE="share",e.SUBMIT="submit",e.SUCCESS="success",e.SWIPE="swipe",e.VIEW="view",e.REACTION_COUNT="reaction-count",e.HEALTH="health",e.HIGHLIGHT="highlight",e.MYFANDOM="myfandom",e.CALENDAR_EVENTS="calendarevents",e.COLLECTIONITEM="collectionitem"}(o||(o={}))},7471:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var o=n(437);function i(){}const r=Date.now(),a=(e,t,n=[])=>(a,...s)=>((e,t,n,a,...s)=>{const u=function(e){return"error"===e?console.error:"debug"===e?(0,o.n3)()||(0,o.RG)()?console.debug:i:console.log}(e),d=`%c${t} | ${((Date.now()-(null!==(c=null===(l=window.performance)||void 0===l?void 0:l.timeOrigin)&&void 0!==c?c:r))/1e3).toFixed(4)}s | ${a}`;var l,c;s.length?u(d,n,...s):u(d,n)})(t,e,n.join(";"),a,...s)},437:(e,t,n)=>{"use strict";n.d(t,{Gr:()=>a,RG:()=>s,V1:()=>u,Xw:()=>c,_u:()=>l,h:()=>d,mJ:()=>g,n3:()=>f,q2:()=>i,sH:()=>r});var o=n(9094);function i(){return!("undefined"==typeof window||!window.location||!window.location.hostname)&&window.location.hostname.includes("fandom.com")}function r(){return i()?"https://services.fandom.com/":"https://services.fandom-dev."+(location.hostname.match(/(?!\.)(pl|us)$/)||["us"])[0]+"/"}const a={DEBUG:"ss_debug",BRANCH:"ss_branch_deploy",CANARY:"ss_canary",ENABLED_PATHFINDER_MODULE:"ss_pathfinder_enable",FORCED_PATHFINDER:"ss_pathfinder_forced",FORCED_BUCKETING:"ss_pathfinder_force_bucket"},s=o.RG,u=()=>/fandom-dev\.(pl|us)$/.test(location.hostname),d=()=>/fandom-dev\.pl/.test(location.hostname),l=(null==="71bac7f5d\n"?void 0:"71bac7f5d\n".replace(/\n/g,""))||"local",c=!1,p=e=>window.location.search.includes(e),f=()=>p(`${a.DEBUG}=true`);function g(){const e=Object.values(a);for(let t=0;t<e.length;t++)if(p(e[t]))return!0;return!1}},9267:(e,t,n)=>{"use strict";function o(e){const t=document.cookie.match(RegExp("(?:^|;\\s*)"+e.replace(/([.*+?\^$(){}|\[\]\/\\])/g,"\\$1")+"=([^;]*)"));return t?t[1]:null}n.d(t,{A:()=>o})},7904:(e,t,n)=>{"use strict";function o(e,t){var n;const o=new URLSearchParams(null===(n=null===window||void 0===window?void 0:window.location)||void 0===n?void 0:n.search);return o.has(e)?o.get(e):t}n.d(t,{Z:()=>o})},7045:(e,t,n)=>{"use strict";n.d(t,{VB:()=>r,wj:()=>u});var o=n(655),i=n(3810);const r=["fandommobile","wikiamobile","mobileve","mobileskin"],a=(0,i.Z)({eventCheck:()=>{var e;return!!(null===(e=null===window||void 0===window?void 0:window.mw)||void 0===e?void 0:e.config)},intervalTime:10,maxWaitTime:5e3,onReject:()=>null,onResolve:()=>window.mw.config});let s=null;const u=()=>(0,o.mG)(void 0,void 0,void 0,(function*(){var e,t;return null!==(t=null===(e=yield function(){return(0,o.mG)(this,void 0,void 0,(function*(){return s||(s=yield a()),null!=s?s:{}}))}())||void 0===e?void 0:e.get("isDarkTheme"))&&void 0!==t&&t}))},1671:(e,t,n)=>{"use strict";n.d(t,{XS:()=>i,ZP:()=>a,vu:()=>r});var o=n(7045);const i=()=>{const e=(null===navigator||void 0===navigator?void 0:navigator.userAgent)||(null===navigator||void 0===navigator?void 0:navigator.vendor)||(null===window||void 0===window?void 0:window.opera);return/windows phone/i.test(e)?"windows-phone":/android/i.test(e)?"android":!(!/ipad|iphone|ipod/i.test(e)||window.MSStream)&&"ios"},r=()=>{const e=new URLSearchParams(null===window||void 0===window?void 0:window.location.search),t=!!e.has("mobile-app")&&e.get("mobile-app"),n=e.has("useskin")?e.get("useskin"):"",i=o.VB.some((e=>e===n.toLowerCase()));return t||i},a=()=>r()||i()||(null===window||void 0===window?void 0:window.matchMedia("screen and (max-width: 727px)").matches)},6355:(e,t,n)=>{"use strict";function o(e){setTimeout(e,1)}n.d(t,{Z:()=>o})},3810:(e,t,n)=>{"use strict";function o(e){let t=0;const n="function"==typeof(null==e?void 0:e.onResolve)?e.onResolve:()=>{},o="function"==typeof(null==e?void 0:e.onReject)?e.onReject:()=>{};return()=>new Promise(((i,r)=>{const a=setInterval((()=>{e.eventCheck()&&(clearInterval(a),i(n())),e.intervalTime*t>e.maxWaitTime&&(clearInterval(a),r(o())),t++}),e.intervalTime)}))}n.d(t,{Z:()=>o})},655:(e,t,n)=>{"use strict";function o(e,t){var n={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(o=Object.getOwnPropertySymbols(e);i<o.length;i++)t.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(e,o[i])&&(n[o[i]]=e[o[i]])}return n}function i(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{u(o.next(e))}catch(e){r(e)}}function s(e){try{u(o.throw(e))}catch(e){r(e)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}u((o=o.apply(e,t||[])).next())}))}n.d(t,{_T:()=>o,mG:()=>i}),Object.create,Object.create}},r={};function a(e){var t=r[e];if(void 0!==t)return t.exports;var n=r[e]={id:e,exports:{}};return i[e].call(n.exports,n,n.exports,a),n.exports}a.m=i,a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,a.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"==typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"==typeof n.then)return n}var i=Object.create(null);a.r(i);var r={};e=e||[null,t({}),t([]),t(t)];for(var s=2&o&&n;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((e=>r[e]=()=>n[e]));return r.default=()=>n,a.d(i,r),i},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.f={},a.e=e=>Promise.all(Object.keys(a.f).reduce(((t,n)=>(a.f[n](e,t),t)),[])),a.u=e=>({21:"marketingNotificationsUnit",73:"onWikiRecommendationsUnit",113:"haloEffectVerticalModuleUnit",161:"articleContributionStatsUnit-loader",166:"addToMyFandomsUnit",172:"marketingNotification-forcedModuleData",245:"quizConsumption",307:"debugMenuModule",341:"referencedLinksUnit-loader",348:"quizCreationModule",349:"wikiQuizConsumptionModule",361:"notificationCMSUnit",447:"discQuizConsumptionModule",495:"inWikiEmailUnit",553:"ReferencedLinksModule--Component",595:"SponsoredWidgetsSponsoredLogoConsumptionModule",606:"SponsoredWidgetsCountdownClockConsumptionModule",656:"globalNavThemeColorsUnit-loader",666:"intersection_observer_polyfills",737:"trivQuizConsumptionModule",853:"desktopAddPageToCollectionUnit",874:"editButtonLabelsForAnonDesktopUnit-loader",986:"quizTargetingEditorUnit",993:"fanhubQuizConsumptionModule"}[e]+"-pathfinder.js"),a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n={},o="@fandom/silver-surfer:",a.l=(e,t,i,r)=>{if(n[e])n[e].push(t);else{var s,u;if(void 0!==i)for(var d=document.getElementsByTagName("script"),l=0;l<d.length;l++){var c=d[l];if(c.getAttribute("src")==e||c.getAttribute("data-webpack")==o+i){s=c;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.setAttribute("data-webpack",o+i),s.src=e),n[e]=[t];var p=(t,o)=>{s.onerror=s.onload=null,clearTimeout(f);var i=n[e];if(delete n[e],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((e=>e(o))),t)return t(o)},f=setTimeout(p.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=p.bind(null,s.onerror),s.onload=p.bind(null,s.onload),u&&document.head.appendChild(s)}},a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;a.g.importScripts&&(e=a.g.location+"");var t=a.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!e;)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),a.p=e})(),(()=>{var e={179:0};a.f.j=(t,n)=>{var o=a.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var i=new Promise(((n,i)=>o=e[t]=[n,i]));n.push(o[2]=i);var r=a.p+a.u(t),s=new Error;a.l(r,(n=>{if(a.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=n&&("load"===n.type?"missing":n.type),r=n&&n.target&&n.target.src;s.message="Loading chunk "+t+" failed.\n("+i+": "+r+")",s.name="ChunkLoadError",s.type=i,s.request=r,o[1](s)}}),"chunk-"+t,t)}};var t=(t,n)=>{var o,i,[r,s,u]=n,d=0;if(r.some((t=>0!==e[t]))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);u&&u(a)}for(t&&t(n);d<r.length;d++)i=r[d],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0},n=self.webpackChunk_fandom_silver_surfer=self.webpackChunk_fandom_silver_surfer||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),a.nc=void 0,(()=>{"use strict";var e=a(655),t=a(3338);const n=(0,t.ZP)({event:"browser-client-alerting"});var o,i,r;!function(e){e.INIT="roots-initial",e.LOADED="roots-loaded"}(o||(o={})),function(e){e.SS_PRE_BOOTSTRAP="ss_pre_bootstrap",e.SS_SDK_START="ss_sdk_start",e.SS_SDK_LOADED="ss_sdk_loaded",e.SS_SDK_READY="ss_sdk_ready",e.SS_CROSS_DOMAIN_READY="ss_cross_domain_ready",e.SS_CROSS_DOMAIN_REGISTER_START="ss_cross_domain_register_start",e.SS_CROSS_DOMAIN_REGISTER_ALL_PAGES_DONE="ss_cross_domain_register_all_pages_done"}(i||(i={})),function(e){e.PF_START="pf_start",e.PF_LOADED="pf_loaded",e.PF_READY="pf_ready"}(r||(r={}));var s=a(9094);const u="__frontend_utils_consistent_random",d=(0,t.ZP)({event:"browser-client-timings"}),l=.005;let c=new Map;function p(e,t){var n,o;c.set(e,t),n=e,o=t,((0,s.L1)()||(window[u]||(window[u]=Math.random()),window[u]<=l))&&d({category:`timings-event-${n}`,label:o.toString(),action:"timed",value:o})}function f(e){try{const t=Math.round(Date.now()-function(){if(!window.performance&&!window.performance.timeOrigin)throw new Error("Performance value not set");return window.performance.timeOrigin}());return p(e,t),(0,s.L1)()&&console.log("Timing",e,t),t}catch(e){console.error("TimingRecord Error",e)}}var g=a(5823),v=a(437),m=a(3810);const y=Date.now();let h=-1;const w=(0,m.Z)({eventCheck:()=>{var e;return null===(e=null===window||void 0===window?void 0:window.SilverSurferSDK)||void 0===e?void 0:e.isReady()},intervalTime:10,maxWaitTime:6e4,onReject:()=>{console.error("silver-surfer-loaded-timeout")},onResolve:()=>{h<0&&(h=Date.now()-y),(0,v.n3)()&&console.debug("silver-surfer-loaded",h)}});var b=a(6355),C=a(7391),O=a(9874),k=a(4485),E=a(7904);const T=0,S=/[0-9a-zA-Z_-]+/;function I(e=T){const t=(0,E.Z)("ss_pathfinder_force_bucket");if(void 0!==t&&(null==t?void 0:t.length)>0)return null==t?void 0:t[e];const n=(0,k.Do)()||"0";return null==n?void 0:n[e]}var A;!function(e){e.Valid="Valid",e.Invalid="Invalid",e.Control="Control"}(A||(A={}));var _=a(5601);const M=e=>Promise.all(e.map((e=>e.then((e=>({status:"fulfilled",value:e}))).catch((e=>({status:"rejected",reason:e}))))));function x(t){return(0,e.mG)(this,void 0,void 0,(function*(){return(yield M(t)).filter((e=>"fulfilled"===e.status)).map((e=>null==e?void 0:e.value)).filter(Boolean)}))}var Z=a(436),z=a(5426);function D(e){return e.map((e=>e.config.name))}function R(t){return(0,e.mG)(this,void 0,void 0,(function*(){return new Promise(((e,n)=>{try{(0,C.K4)(t.type)(t).then((n=>{n?e(Object.assign({config:t},n)):(g.Z.debug("RulesEngine: Module failed to provide methods (no result)",t),e(!1))})).catch((n=>{g.Z.error("RulesEngine: Module failed to provide methods (exception from getModuleMethod)",t,n),e(!1)}))}catch(n){g.Z.error("RulesEngine: Module failed to provide methods (exception getting getModuleMethod)",t,n),e(!1)}}))}))}const P=t=>(0,e.mG)(void 0,void 0,void 0,(function*(){var e,n;try{yield(0,Z.ZP)();const o=null!==(e=window.optimizely&&window.optimizely.get("state").getActiveExperimentIds())&&void 0!==e?e:[],i=null!==(n=window.optimizely&&window.optimizely.get("state").getExperimentStates())&&void 0!==n?n:{},[r,a]=((0,E.Z)("ss_pathfinder_forced_optimizely")||"").split("_");return r&&a&&(i[r]={variation:{id:a}},o.push(r)),o.length?t.map((e=>{var t;return e.optimizelyId===Number(r)&&g.Z.debug(`Forced: Optimizely experiment - ${e.name} `),e.optimizelyId&&(null===(t=i[e.optimizelyId])||void 0===t?void 0:t.variation)?Object.assign(Object.assign({},e),{optimizelyActiveVariantId:i[e.optimizelyId].variation.id}):e})):t}catch(e){return g.Z.error("Error while getting inactive Optimizely modules",e),t}}));function N(e){const t=null==e?void 0:e.limitTraffic;return void 0===t||("number"==typeof t?Math.random()<t:"string"==typeof t?t.includes(I()):!!Array.isArray(t)&&t.some(((e,t)=>e.includes(I(t)))))}var $=a(1108);var L=a(396),B=a(8459);function j(e){const t="RulesEngine/callInsertModule:";try{"function"==typeof(null==e?void 0:e.render)&&(g.Z.debug(`${t} Rendering module`,e),function(e){var t,n,o;const i=e.config,r=e.render(),a=null!==(n=null===(t=e.config)||void 0===t?void 0:t.impressionName)&&void 0!==n?n:e.config.type;(0,L.trackExperimentsModule)(i,{nonInteractive:!0,action:"inserted"});const s=()=>{g.Z.debug("RulesEngine/Insert: Module shown",i),"function"==typeof e.show&&e.show(),(0,B.o3)(a),(0,L.trackExperimentsModule)(i,{nonInteractive:!0,action:"loaded"})};if(r instanceof Element)switch(g.Z.debug("RulesEngine/Insert: Rendering and inserting hidden module",i),i.insertConfig.type){case $.pz.Instant:return document.querySelector("body").appendChild(r),void s();case $.pz.Element:{const e=i.insertConfig.selectors;let t,n=$.Eo.Append;for(const o of e)if(t=document.querySelector(o.selector),t){n=o.method;break}if(t){switch(n){case $.Eo.After:t.after(r);break;case $.Eo.Append:t.append(r);break;case $.Eo.Before:t.before(r);break;case $.Eo.Prepend:t.prepend(r);break;default:return void g.Z.error("RulesEngine/Insert: Unknown method",n,i)}s()}else g.Z.error("RulesEngine/Insert: Could not find an element to attach",i);return}case $.pz.UcpInContext:(function(e,t){var n;let o=0;const i=Array.from(document.querySelectorAll("#mw-content-text p")).filter((e=>!e.classList.contains("caption"))).map((e=>(o+=e.textContent.replace(/\s/g,"").length,{node:e,charCountSum:o})));let r,a=i.findIndex((({charCountSum:e})=>e>t))-1;for(;a>0&&a<i.length;){const{node:e}=i[a];if("P"===(null===(n=null==e?void 0:e.previousElementSibling)||void 0===n?void 0:n.tagName)){r=e;break}a++}void 0!==r?r.before(e):document.querySelector("#mw-content-text").appendChild(e)})(r,null!==(o=i.insertConfig.characters)&&void 0!==o?o:0),s()}else e.config.insertConfig.type===$.pz.Custom?(g.Z.debug("RulesEngine/Insert: Custom module, skipping inserting",i),s()):g.Z.error("RulesEngine/Insert: Module.render did not return HTML",i)}(e))}catch(e){g.Z.error(`${t} Exception`,e)}}function U(e){const t="RulesEngine/callCleanupModule:";try{"function"==typeof(null==e?void 0:e.cleanup)&&(g.Z.debug(`${t} Calling cleanup`,e),e.cleanup())}catch(e){g.Z.error(`${t} Exception`,e)}}var G=a(7068),F=a(6304),W=a(5447);function V(){return(0,e.mG)(this,void 0,void 0,(function*(){const t=yield function(){return(0,e.mG)(this,void 0,void 0,(function*(){const t="RulesEngine/getAvailableModules:";g.Z.debug(`${t} Checking available modules`);const n=D((0,z.fM)()),o=yield function(t=[]){return(0,e.mG)(this,void 0,void 0,(function*(){const e="RulesEngine/getModuleCandidates:",n=(0,C.rz)();if(!n.length)return g.Z.error(`${e} No modules`),[];g.Z.debug(`${e} Modules`,n);const o=(0,_.Z)();let i;o&&(i=n.find((e=>e.name===o)));let r=n.filter((e=>!(null==e?void 0:e.disabled)));if(g.Z.debug(`${e} Enabled modules`,r),t.length&&(r=r.filter((e=>!t.includes(e.name))),!r.length))return[];(0,Z.IA)()&&(r=yield P(r)),r=r.filter((e=>!e.optimizelyId||e.optimizelyActiveVariantId));const a=r.filter(N);g.Z.debug(`${e} Enabled modules in current traffic`,a);const s=function(e){const t=e.filter((e=>!(null==e?void 0:e.buckets))),n=e.filter((e=>null==e?void 0:e.buckets)),o=I();return[...t,...n.filter((e=>e.buckets.some((e=>e.includes(o)))))]}(a);g.Z.debug(`${e} Modules with buckets applied`,s);const u=yield x(s.map(O.Po));if(g.Z.debug(`${e} Module candidates`,u),i&&!t.includes(o)){g.Z.info(`${e} Forced module, forcing it`,i),i.internalState.forced=!0;const t=u.filter((e=>e.name!==(null==i?void 0:i.name)));return t.unshift(i),t}return u}))}(n);if(!o.length)return g.Z.debug(`${t} No candidates`),[];const i=(0,_.Z)();!i||o.map((e=>e.name)).includes(i)||n[i]||g.Z.error(`${t} Cannot find forced module`,i);const r=yield x(o.map(R));return g.Z.debug(`${t} Available modules`,r),r}))}();t.forEach(j),g.Z.info("Rendered modules",D(t)),(0,z.yc)(t)}))}function Q(){return(0,e.mG)(this,void 0,void 0,(function*(){g.Z.debug("Loaded"),f(r.PF_LOADED),v.Xw&&function(){const e=(0,C.lV)();let t=0;g.Z.info("RulesEngine: Validating ALL the modules that are present in the code"),console.groupCollapsed("RulesEngine: Expand module validation errors"),e.forEach((e=>{t+=function(e){let t=0;const n=`RulesEngine/validation: ${e.name}`,o=["internalState"];if(o.push("disabled"),null==e?void 0:e.disabled){const{disabled:o}=e;"boolean"!=typeof o&&(g.Z.error(`${n} - 'disabled' not boolean`),t++)}if(o.push("limitTraffic"),null==e?void 0:e.limitTraffic){const{limitTraffic:o}=e;"number"==typeof o?(o<=0&&(g.Z.error(`${n} - 'limitTraffic' <= 0 disables the module`),t++),o>1&&(g.Z.error(`${n} - 'limitTraffic' > 1 always enables the module`),t++)):"string"==typeof o?S.test(o)||(g.Z.error(`${n} - 'limitTraffic' has incorrect buckets`),t++):Array.isArray(o)?o.some((e=>!S.test(e)))&&(g.Z.error(`${n} - 'limitTraffic' has incorrect buckets`),t++):(g.Z.error(`${n} - 'limitTraffic' is malformed`),t++)}if(o.push("name"),null==e?void 0:e.name){const{name:o}=e;/^[a-z0-9_-]+$/.test(o)||(g.Z.error(`${n} - 'name' can only use lower case letters, nuumbers, dash, and underscore`),t++)}else g.Z.error(`${n} - 'name' is missing`),t++;if(o.push("impressionName"),null==e?void 0:e.impressionName){const{impressionName:o}=e;"string"!=typeof o&&(g.Z.error(`${n} - 'impressionName' not string`),t++)}if(o.push("type"),null==e?void 0:e.type){const{type:o}=e;Object.values($.PO).includes(o)||(g.Z.error(`${n} - 'type' unknown`),t++)}else g.Z.error(`${n} - 'type' is missing`),t++;if(o.push("buckets"),null==e?void 0:e.buckets){const{buckets:o}=e;Array.isArray(o)?(o.some((e=>!S.test(e)))?(g.Z.error(`${n} - incorrect 'buckets'`,o),t++):(g.Z.error(`${n} - 'buckets' is malformed`),t++),(null==e?void 0:e.disabled)&&o.length>0&&g.Z.info(`${n} - config still has buckets, but it is disabled; this can cause confusion, consider removing those buckets`)):(g.Z.error(`${n} - 'buckets' is not an array`,o),t++)}if(o.push("insertConfig"),null==e?void 0:e.insertConfig)switch(Object.values($.pz).includes(e.insertConfig.type)||(g.Z.error(`${n} - 'insertConfig.type' unknown`,e.insertConfig.type),t++),e.insertConfig.type){case $.pz.Element:{const{selectors:o}=e.insertConfig;Array.isArray(o)&&o.length?o.some((({selector:e,method:t})=>"string"!=typeof e||!Object.values($.Eo).includes(t)))&&(g.Z.error(`${n} - incorrect 'insertConfig.selectors'`,o),t++):(g.Z.error(`${n} - 'insertConfig.selectors' is not an non-empty array`),t++);break}case $.pz.UcpInContext:{const{characters:o}=e.insertConfig;!o||"number"==typeof o&&o>=0||(g.Z.error(`${n} - 'insertConfig.characters' is not a positive number`,o),t++);break}}else g.Z.error(`${n} - 'insertConfig' is missing`),t++;o.push("config"),o.push("priority"),(null==e?void 0:e.priority)&&("number"!=typeof e.priority||isNaN(e.priority)?g.Z.error(`${n} - 'priority' can only be an integer, not a float, string, boolean, array, etc`):Number.isInteger(e.priority)||g.Z.error(`${n} - 'priority' cannot be a float, integer only`)),o.push("targeting");const i=Object.keys(e).filter((e=>!o.includes(e)));if(i.length&&g.Z.error(`${n} - Found fields that couldn't be validated :`,i),o.push("optimizelyId"),null==e?void 0:e.optimizelyId){const{optimizelyId:o}=e;("number"!=typeof o&&"string"!=typeof o||"string"==typeof o&&0===o.length)&&(g.Z.error(`${n} - 'optimizelyId' not a string or a number or an empty string`),t++)}return t}(e)})),t+=(0,O.os)(e),console.groupEnd(),t>0?g.Z.error(`RulesEngine: Validation finished for ${e.length} modules, found ${t} errors`):g.Z.info(`RulesEngine: Validation finished for ${e.length} modules, no errors found`)}();try{const e=(0,Z.IA)();yield V(),L.trackRootPathfinder({action:"viewable",label:"true"}),window.pathfinderModulesReady=!0,f(r.PF_READY),window.dispatchEvent(new CustomEvent("PathfinderModulesLoaded")),(0,F.i)(void 0),(0,G.E)(void 0),(0,W.pT)(),e||(0,Z.nU)((()=>{V()}))}catch(e){g.Z.error("Cannot render modules",e),L.trackRootPathfinder({action:"viewable",label:"false"})}}))}w().then((function(){return(0,e.mG)(this,void 0,void 0,(function*(){g.Z.debug(`Booting Pathfinder #${v._u}`);const e=yield window.SilverSurferSDK.registerClient({name:"pathfinder",onReboot:()=>{!function(){const e=(0,z.fM)();g.Z.debug("Cleaning up previously rendered modules",D(e)),e.forEach(U),(0,z.T6)()}(),(0,b.Z)(V)}});window.pathfinderTracking=L,e?((0,z.gv)(e),g.Z.debug("Preloaded with token",e),(0,b.Z)(Q)):(g.Z.error("Couldn't register with SilverSurfer, disabling Pathfinder"),function(e,o){n({category:(0,t._E)(`browser-client-alerting-${e}`),label:"pie-dpad-tech",action:"alert"})}("pf-failed-register-sdk"))}))})),f(r.PF_START)})()})();
//# sourceMappingURL=pathfinder.js.map